<!DOCTYPE html>



 <html class="no-js"> 
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="author" content="Jerod Santo">
    <meta property="og:site_name" content="Jerod Santo">
    
    <meta name="description" content="Rails&rsquo; method of sharing data between controllers and views via instance variables bothers many developers. For the uninitiated, a Rails controller method like this one&hellip;
class EventsController &lt; ApplicationController
  def index
    @events = Event.scoped
  end
end
&hellip; makes the @events instance variable accessible to the rendered view.
This bugs me, too. My beefs with it are:

It is counterintuitive. Why would an instance variable be how you make something available outside the instance?
It couples the view and the controller more than necessary, shedding Ruby&rsquo;s encapsulation strength of having method calls and ivar accessors identical.
Views and partials have varying access to the instance variable, which is confusing.

Better would be explicitly exposing the events collection to views via a reader and helper method, like this:">
    <meta property="st:title" content="A Handy Method to Share Data From Rails Controllers to Views Without Requiring Direct Instance Variable Access">
    <meta property="og:title" content="A Handy Method to Share Data From Rails Controllers to Views Without Requiring Direct Instance Variable Access">
    <meta property="og:description" content="Rails&rsquo; method of sharing data between controllers and views via instance variables bothers many developers. For the uninitiated, a Rails controller method like this one&hellip;
class EventsController &lt; ApplicationController
  def index
    @events = Event.scoped
  end
end
&hellip; makes the @events instance variable accessible to the rendered view.
This bugs me, too. My beefs with it are:

It is counterintuitive. Why would an instance variable be how you make something available outside the instance?
It couples the view and the controller more than necessary, shedding Ruby&rsquo;s encapsulation strength of having method calls and ivar accessors identical.
Views and partials have varying access to the instance variable, which is confusing.

Better would be explicitly exposing the events collection to views via a reader and helper method, like this:">
    <meta property="og:type" content="article">
    
    <meta property="og:image" content="/icon.png">
    
    
    <title>
      A Handy Method to Share Data From Rails Controllers to Views Without Requiring Direct Instance Variable Access | Jerod Santo
    </title>

    <link rel="icon" href="/icon.png" sizes="256x256" type="image/png">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" media="all" href="/styles.css">
    <script>
       
      window.grunticon=function(e){if(e&&3===e.length){var t=window,n=!(!t.document.createElementNS||!t.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||window.opera&&-1===navigator.userAgent.indexOf("Chrome")),o=function(o){var r=t.document.createElement("link"),a=t.document.getElementsByTagName("script")[0];r.rel="stylesheet",r.href=e[o&&n?0:o?1:2],a.parentNode.insertBefore(r,a)},r=new t.Image;r.onerror=function(){o(!1)},r.onload=function(){o(1===r.width&&1===r.height)},r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}};
      grunticon(["/icons/icons.data.svg.css", "/icons/icons.data.png.css", "/icons/icons.fallback.css"]);
    </script>

    <link href='//fonts.googleapis.com/css?family=Roboto+Condensed:400italic,400' rel='stylesheet' type='text/css'>
    <script src="//use.typekit.net/ozg5mvx.js"></script>
    <script>try{Typekit.load();}catch(e){}</script>
    <script src="/js/modernizr-custom.js"></script>

    

    <link rel="alternate" type="application/atom+xml" href="/index.xml" />
  </head>
  <body class="">
    
    <div class="main-header">
      <h1>
        <a href="/" title="Home">
          <span class="big-dot">&middot;</span> Jerod Santo <span class="big-dot">&middot;</span>
        </a>
      </h1>
      <a href="javascript:void(0);" title="Moar" class="main-header-more">+</a>
      <a href="/archives/" title="View Blog Archives" class="main-header-archive">Archives</a>
      <a href="mailto:jerod.santo@gmail.com" title="Contact Jerod" class="main-header-contact">Contact</a>
      <a href="/search/" title="Search the site" class="main-header-search">Search</a>
    </div>
    

    
<article class="post">
  <header class="post-header">
    <h1>A Handy Method to Share Data From Rails Controllers to Views Without Requiring Direct Instance Variable Access</h1>
    
    <p class="post-date">
      December 18, 2012
    </p>
  </header>

  

  <div class="post-content">
    <p>Rails&rsquo; method of sharing data between controllers and views via instance variables bothers many developers. For the uninitiated, a Rails controller method like this one&hellip;</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">EventsController</span> <span style="color:#0550ae">&lt;</span> <span style="color:#0550ae">ApplicationController</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">def</span> <span style="color:#6639ba">index</span>
</span></span><span style="display:flex;"><span>    <span style="color:#953800">@events</span> <span style="color:#0550ae">=</span> <span style="color:#0550ae">Event</span><span style="color:#0550ae">.</span>scoped
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>&hellip; makes the <code>@events</code> instance variable accessible to the rendered view.</p>
<p>This bugs me, too. My beefs with it are:</p>
<ul>
<li>It is counterintuitive. Why would an <em>instance</em> variable be how you make something available <em>outside</em> the instance?</li>
<li>It couples the view and the controller more than necessary, shedding Ruby&rsquo;s encapsulation strength of having method calls and ivar accessors identical.</li>
<li>Views and partials have varying access to the instance variable, which is confusing.</li>
</ul>
<p>Better would be explicitly exposing the events collection to views via a reader and helper method, like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">EventsController</span> <span style="color:#0550ae">&lt;</span> <span style="color:#0550ae">ApplicationController</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">def</span> <span style="color:#6639ba">index</span>
</span></span><span style="display:flex;"><span>    <span style="color:#953800">@events</span> <span style="color:#0550ae">=</span> <span style="color:#0550ae">Event</span><span style="color:#0550ae">.</span>scoped
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">attr_reader</span> <span style="color:#032f62">:events</span>
</span></span><span style="display:flex;"><span>  helper_method <span style="color:#032f62">:events</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>Now all views can just call the <code>events</code> method and not worry about the ivar.</p>
<p>This becomes cumbersome when you do it across many controllers and actions, so I use this handy method to &ldquo;automate&rdquo; the process to expose certain ivars to views:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">ApplicationController</span> <span style="color:#0550ae">&lt;</span> <span style="color:#0550ae">ActionController</span><span style="color:#0550ae">::</span><span style="color:#0550ae">Base</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a"># short hand for exposing a list of ivars to view objects</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">def</span> <span style="color:#1f2328">self</span><span style="color:#0550ae">.</span><span style="color:#6639ba">exposes</span><span style="color:#1f2328">(</span><span style="color:#0550ae">*</span>ivars<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    ivars<span style="color:#0550ae">.</span>each <span style="color:#cf222e">do</span> <span style="color:#0550ae">|</span>ivar<span style="color:#0550ae">|</span>
</span></span><span style="display:flex;"><span>      <span style="color:#cf222e">attr_reader</span> ivar<span style="color:#0550ae">.</span>to_sym
</span></span><span style="display:flex;"><span>      helper_method ivar<span style="color:#0550ae">.</span>to_sym
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>The method takes an arbitrary list of ivar names. Using it, the example  controller class looks like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">EventsController</span> <span style="color:#0550ae">&lt;</span> <span style="color:#0550ae">ApplicationController</span>
</span></span><span style="display:flex;"><span>  exposes <span style="color:#032f62">:events</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">def</span> <span style="color:#6639ba">index</span>
</span></span><span style="display:flex;"><span>    <span style="color:#953800">@events</span> <span style="color:#0550ae">=</span> <span style="color:#0550ae">Event</span><span style="color:#0550ae">.</span>scoped
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>Unfortunately, the view <strong>can</strong> still access <code>@events</code>, but it&rsquo;s a step in the right direction.</p>
<p>I&rsquo;m sure there are ways to stop direct access of instance variables from views, but I haven&rsquo;t gotten that drastic yet.</p>
<p>I&rsquo;ve gotten a lot of mileage out of this method. Perhaps you will too.</p>

  </div>

  <ul class="post-share-buttons">
    <li class="service_twitter post-share-1">
      <a class="icon-twitter" href="https://twitter.com/intent/tweet?url=http%3a%2f%2flocalhost%3a1313%2f2012%2f12%2fa-handy-method-to-share-data-from-rails-controllers-to-views-without-requiring-direct-instance-variable-access%2f&via=jerodsanto&text=A%20Handy%20Method%20to%20Share%20Data%20From%20Rails%20Controllers%20to%20Views%20Without%20Requiring%20Direct%20Instance%20Variable%20Access" title="Tweet">
        <span>Tweet</span>
      </a>
    </li>
    <li class="service_rss post-share-2">
      <a class="icon-rss" href="/index.xml" title="Subscribe to the feed!">
        <span>RSS</span>
      </a>
    </li>
    <li class="service_hackernews post-share-3">
      <a class="icon-hackernews" href="http://news.ycombinator.com/submitlink?u=http%3a%2f%2flocalhost%3a1313%2f2012%2f12%2fa-handy-method-to-share-data-from-rails-controllers-to-views-without-requiring-direct-instance-variable-access%2f&t=A%20Handy%20Method%20to%20Share%20Data%20From%20Rails%20Controllers%20to%20Views%20Without%20Requiring%20Direct%20Instance%20Variable%20Access" title="Post to Hacker News">
        <span>Hacker News</span>
      </a>
    </li>
    <li class="service_instapaper post-share-4">
      <a class="icon-instapaper" href="http://www.instapaper.com/hello2?url=http%3a%2f%2flocalhost%3a1313%2f2012%2f12%2fa-handy-method-to-share-data-from-rails-controllers-to-views-without-requiring-direct-instance-variable-access%2f&title=A%20Handy%20Method%20to%20Share%20Data%20From%20Rails%20Controllers%20to%20Views%20Without%20Requiring%20Direct%20Instance%20Variable%20Access" title="Read later">
        <span>Instapaper</span>
      </a>
    </li>
  </ul>

  
  

  <div id="disqus_thread"></div>
  <script>
    var disqus_url   = "http:\/\/localhost:1313\/2012\/12\/a-handy-method-to-share-data-from-rails-controllers-to-views-without-requiring-direct-instance-variable-access\/";
    var disqus_title = "A Handy Method to Share Data From Rails Controllers to Views Without Requiring Direct Instance Variable Access";
    (function() {
     var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
     dsq.src = 'https://blogt0sk1.disqus.com/embed.js';
     (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>

  <script src="//platform.twitter.com/widgets.js"></script>
</article>


    <footer class="main-footer">
  <p>
    Copyright &copy; 2008&mdash;2025 Jerod Santo
  </p>
</footer>

    
    <script src="/js/compiled.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-3287978-16', 'auto');
      ga('send', 'pageview');
    </script>
    
  </body>
</html>