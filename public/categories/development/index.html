<!DOCTYPE html>



 <html class="no-js"> 
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="author" content="Jerod Santo">
    <meta property="og:site_name" content="Jerod Santo">
    
    <meta name="description" content="">
    <meta property="st:title" content="Development Posts">
    <meta property="og:title" content="Development Posts">
    <meta property="og:description" content="">
    <meta property="og:type" content="article">
    
    <meta property="og:image" content="/icon.png">
    
    
    <title>
      Development Posts | Jerod Santo
    </title>

    <link rel="icon" href="/icon.png" sizes="256x256" type="image/png">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" media="all" href="/styles.css">
    <script>
       
      window.grunticon=function(e){if(e&&3===e.length){var t=window,n=!(!t.document.createElementNS||!t.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||window.opera&&-1===navigator.userAgent.indexOf("Chrome")),o=function(o){var r=t.document.createElement("link"),a=t.document.getElementsByTagName("script")[0];r.rel="stylesheet",r.href=e[o&&n?0:o?1:2],a.parentNode.insertBefore(r,a)},r=new t.Image;r.onerror=function(){o(!1)},r.onload=function(){o(1===r.width&&1===r.height)},r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}};
      grunticon(["/icons/icons.data.svg.css", "/icons/icons.data.png.css", "/icons/icons.fallback.css"]);
    </script>

    <link href='//fonts.googleapis.com/css?family=Roboto+Condensed:400italic,400' rel='stylesheet' type='text/css'>
    <script src="//use.typekit.net/ozg5mvx.js"></script>
    <script>try{Typekit.load();}catch(e){}</script>
    <script src="/js/modernizr-custom.js"></script>

    

    <link rel="alternate" type="application/atom+xml" href="/index.xml" />
  </head>
  <body class="">
    
    <div class="main-header">
      <h1>
        <a href="/" title="Home">
          <span class="big-dot">&middot;</span> Jerod Santo <span class="big-dot">&middot;</span>
        </a>
      </h1>
      <a href="javascript:void(0);" title="Moar" class="main-header-more">+</a>
      <a href="/archives/" title="View Blog Archives" class="main-header-archive">Archives</a>
      <a href="mailto:jerod.santo@gmail.com" title="Contact Jerod" class="main-header-contact">Contact</a>
      <a href="/search/" title="Search the site" class="main-header-search">Search</a>
    </div>
    

    
<section class="main-wrapper excerpt-list">
  <header class="section-header">
    <h1>Development Posts</h1>
    
      <h2>Ruby, JavaScript, Rails, CoffeeScript, and everything development-related</h2>
    
  </header>

  
    <article class="excerpt">
  <a href="http://localhost:1313/2016/12/5-answers-for-coder-catchup-episode-100/">
    <h1 class="excerpt-header">5 Answers For Coder Catchup Episode 100</h1>
    <p class="excerpt-date">December 22, 2016</p>
    <p class="excerpt-text"><p>To celebrate episode 100 of Jaymie Jones&rsquo; <a href="http://codercatchup.com">Coder Catchup</a> podcast, Jaymie reached out to a handful of people and asked us 5 questions about web development, which he then read on the show.</p>
<p>I was honored to be on the show alongside such great web folks as Chris Coyier, Wes Bos, Adam Stacoviak, Sarah Allen, and more.</p>
<p>Since I wrote my answers to Jaymie in Markdown and shipped them off for him to read, I figured I&rsquo;d also post them here as well.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2015/08/safari-does-not-trigger-click-events-on-anchors-or-buttons-containing-svg-elements/">
    <h1 class="excerpt-header">Safari does not trigger click events on anchors or buttons containing SVG elements</h1>
    <p class="excerpt-date">August 18, 2015</p>
    <p class="excerpt-text"><p>This fact will ruin your day if, for instance, you are expecting Rails&rsquo; jQuery UJS to Just Work when you add a <code>remote: true</code> or <code>method: :post</code> to that <code>link_to</code> helper. You know, something like this:</p>
<p>It&rsquo;ll work in Chrome. It&rsquo;ll work in Firefox. But Safari on the other hand&hellip;</p>
<p>Safari will not trigger a <code>click</code> event and whatever JavaScript you were expecting to fire will not. How to fix? In your CSS:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2015/03/trailing-conditionals-considered-harmful-unless-used-sparingly/">
    <h1 class="excerpt-header">Trailing Conditionals Considered Harmful Unless Used Sparingly</h1>
    <p class="excerpt-date">March 8, 2015</p>
    <p class="excerpt-text"><p>One Ruby feature that I fell in love with back in the day is the ability to tack conditionals on at the end of a line. For example, this bit of code:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#cf222e">if</span> some_condition?
</span></span><span style="display:flex;"><span>  object<span style="color:#0550ae">.</span>perform_some_action
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>Can be expressed as a one-liner, like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>object<span style="color:#0550ae">.</span>perform_some_action <span style="color:#cf222e">if</span> some_condition?
</span></span></code></pre></div><p>It&rsquo;s a small difference, but the latter form often maps more directly to how the author thinks about the problem. It feels even better when teamed with the <code>unless</code> keyword:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2015/01/art-directed-data-driven-image-files-to-accompany-your-website/">
    <h1 class="excerpt-header">Art-directed, data-driven image files to accompany your website</h1>
    <p class="excerpt-date">January 19, 2015</p>
    <p class="excerpt-text"><p><a href="http://codyjamespeterson.com">Cody</a> and I recently added a subtle feature<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> to <a href="http://omahype.com">Oma</a>/<a href="http://outwithsprout.com">Sprout</a> that we think is pretty neat. I haven&rsquo;t seen other people doing this, so I thought I&rsquo;d publish the idea and how we pulled it off.</p>
<h2 id="the-problem">The Problem</h2>
<p>Much of our recurring traffic comes from social media<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>. To foster this flow of traffic, we post our sites&rsquo; daily event pages to Facebook and Twitter on a regular basis.</p>
<p>The web in general — and social media in particular — is a fight for attention. What makes it worse is that <a href="http://www.nngroup.com/articles/how-users-read-on-the-web/">people don&rsquo;t read words</a>. What they do do<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup> is look at pictures. Disagree with that? Just ask Instagram or Pinterest about it.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2014/09/list-all-git-commits-that-are-on-one-branch-but-arent-on-the-other/">
    <h1 class="excerpt-header">List all Git commits that are on one branch, but aren&#39;t on the other</h1>
    <p class="excerpt-date">September 6, 2014</p>
    <p class="excerpt-text"><p>Common need: show me all the comits that branch <code>X</code> has, but branch <code>Y</code> doesn&rsquo;t.</p>
<p>Why is this need common? Because Heroku-style deployment environments are increasingly common and it&rsquo;s super handy to quickly see which commits you haven&rsquo;t pushed to production.</p>
<p>Here is the Git command in all its glory</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#1f2328">git log --left-right --graph --cherry-pick --oneline X...Y
</span></span></span></code></pre></div><p>Hopefully obvious, but worth a mention: replace <code>X</code> and <code>Y</code> above with the names of the branches you want to compare.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2014/06/a-step-by-step-guide-to-bulletproof-404s-on-rails/">
    <h1 class="excerpt-header">A step by step guide to bulletproof 404s on Rails</h1>
    <p class="excerpt-date">June 20, 2014</p>
    <p class="excerpt-text"><h2 id="step-1-configure-your-router-as-the-exceptions-app">Step 1: Configure your router as the exceptions app</h2>
<p>Since Rails 3 you&rsquo;ve been able to configure an app to handle exceptions, which you want to point right at your router. To do this, add the following to <code>config/application.rb</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#cf222e">module</span> <span style="color:#24292e">MyApp</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">class</span> <span style="color:#1f2328">Application</span> <span style="color:#0550ae">&lt;</span> <span style="color:#0550ae">Rails</span><span style="color:#0550ae">::</span><span style="color:#0550ae">Application</span>
</span></span><span style="display:flex;"><span>    config<span style="color:#0550ae">.</span>exceptions_app <span style="color:#0550ae">=</span> <span style="color:#6639ba">self</span><span style="color:#0550ae">.</span>routes
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><h2 id="step-2-add-a-catch-all-route">Step 2: Add a catch-all route</h2>
<p>Make sure this is the last rule in <code>config/routes.rb</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#0550ae">MyApp</span><span style="color:#0550ae">::</span><span style="color:#0550ae">Application</span><span style="color:#0550ae">.</span>routes<span style="color:#0550ae">.</span>draw <span style="color:#cf222e">do</span>
</span></span><span style="display:flex;"><span>  get <span style="color:#0a3069">&#34;*any&#34;</span><span style="color:#1f2328">,</span> <span style="color:#032f62">via</span><span style="color:#1f2328">:</span> <span style="color:#032f62">:all</span><span style="color:#1f2328">,</span> <span style="color:#032f62">to</span><span style="color:#1f2328">:</span> <span style="color:#0a3069">&#34;errors#not_found&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>With this, any requested path — whatever the request type — that doesn&rsquo;t match the previous routing rules will match this rule. The <code>*any</code> path starts with the <code>*</code> wildcard, so it will match anything. The <code>any</code> part is arbitrary, but you have to put <em>something</em> after the <code>*</code> to make it work. I&rsquo;m sure there&rsquo;s a good reason why, but somebody else will have to explain it.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2013/12/rails-4-let-specific-actions-be-embedded-as-iframes/">
    <h1 class="excerpt-header">Rails 4: let specific actions be embedded as iframes</h1>
    <p class="excerpt-date">December 4, 2013</p>
    <p class="excerpt-text"><p>Rails 4 added a default <code>X-Frame-Options</code> HTTP header value of <code>SAMEORIGIN</code>. This is good <a href="http://en.wikipedia.org/wiki/Clickjacking">for security</a>, because browsers use this header to decide whether or not your site can be <code>iframe</code>d by other sites.</p>
<p>However, sometimes you <em>do</em> want a particular action to be embeddable in another site. If you know the site which embeds the action, you can simply change the header to explicitly allow it:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">MyController</span> <span style="color:#0550ae">&lt;</span> <span style="color:#0550ae">ApplicationController</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">def</span> <span style="color:#6639ba">my_embeddable_widget</span>
</span></span><span style="display:flex;"><span>    response<span style="color:#0550ae">.</span>headers<span style="color:#0550ae">[</span><span style="color:#0a3069">&#34;X-FRAME-OPTIONS&#34;</span><span style="color:#0550ae">]</span> <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#34;ALLOW-FROM http://example.com&#34;</span>
</span></span><span style="display:flex;"><span>    render
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>If, instead, you want the action to be embeddable by any site on the web, just delete the header:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2013/11/make-activeadmin-and-friendlyid-play-nice/">
    <h1 class="excerpt-header">Make ActiveAdmin and FriendlyId play nice</h1>
    <p class="excerpt-date">November 15, 2013</p>
    <p class="excerpt-text"><p><a href="http://activeadmin.info">ActiveAdmin</a> and <a href="https://github.com/norman/friendly_id">FriendlyId</a> are both handy gems, but they don&rsquo;t play nice together out of the box.</p>
<p>This is because <code>FriendlyId</code>&rsquo;d models don&rsquo;t follow the default <code>to_param</code> style of id-based lookups which ActiveAdmin expects.</p>
<p>However, the two are easily reconciled by changing how ActiveAdmin fetches resources. Throw this in your ActiveAdmin initializer:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#57606a"># config/initializers/active_admin.rb</span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">ActiveAdmin</span><span style="color:#0550ae">::</span><span style="color:#0550ae">ResourceController</span><span style="color:#0550ae">.</span>class_eval <span style="color:#cf222e">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">def</span> <span style="color:#6639ba">find_resource</span>
</span></span><span style="display:flex;"><span>    id_field <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#34;id&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">if</span> scoped_collection<span style="color:#0550ae">.</span>is_a? <span style="color:#0550ae">FriendlyId</span>
</span></span><span style="display:flex;"><span>      id_field <span style="color:#0550ae">=</span> scoped_collection<span style="color:#0550ae">.</span>friendly_id_config<span style="color:#0550ae">.</span>query_field
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    scoped_collection<span style="color:#0550ae">.</span>find_by! id_field <span style="color:#0550ae">=&gt;</span> params<span style="color:#0550ae">[</span><span style="color:#032f62">:id</span><span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>That&rsquo;ll do it. You can alternatively define <code>find_resource</code> inside each registered resource&rsquo;s <code>controller</code> block if you want to be picky.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2013/11/your-dev-user-should-be-really-crazy/">
    <h1 class="excerpt-header">Your dev user should be really crazy</h1>
    <p class="excerpt-date">November 8, 2013</p>
    <p class="excerpt-text"><p>Up until now, my dev user on systems I&rsquo;m building has been pretty predictable. Something like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#0550ae">User</span><span style="color:#0550ae">.</span>create <span style="color:#032f62">first_name</span><span style="color:#1f2328">:</span> <span style="color:#0a3069">&#34;Jerod&#34;</span><span style="color:#1f2328">,</span> <span style="color:#032f62">last_name</span><span style="color:#1f2328">:</span> <span style="color:#0a3069">&#34;Santo&#34;</span>
</span></span></code></pre></div><p>There are other attributes like email, password, etc., but you get the point.</p>
<p>This is convenient, but pretty short sighted. I&rsquo;ll use this account for the duration of development. Why not make it more useful by populating its attributes with crazy data?</p>
<p>This user is much more useful:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#0550ae">User</span><span style="color:#0550ae">.</span>create <span style="color:#032f62">first_name</span><span style="color:#1f2328">:</span> <span style="color:#0a3069">&#34;&lt;script&gt;alert(&#39;OHAI!&#39;);&lt;/script&gt;&#34;</span><span style="color:#1f2328">,</span> <span style="color:#032f62">last_name</span><span style="color:#1f2328">:</span> <span style="color:#0a3069">&#34;朋美&#34;</span>
</span></span></code></pre></div><p>Now we&rsquo;re talking! This user will help catch any <a href="http://en.wikipedia.org/wiki/Cross-site_scripting">XSS</a> vulnerabilities and ensure that unicode text is rendered properly.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2013/10/ruby-quick-tip-easily-count-occurrences-of-array-elements/">
    <h1 class="excerpt-header">Ruby Quick Tip: Easily Count Occurrences of Array Elements</h1>
    <p class="excerpt-date">October 24, 2013</p>
    <p class="excerpt-text"><p>Have you ever needed to see how many times each element occurs in an array? Perhaps sort the elements by occurrence? Using an awesome feature of <code>Hash.new</code> makes this task quick and easy.</p>
<p><code>Hash.new</code> takes an argument that will be returned when a key that doesn&rsquo;t correspond to a hash entry is accessed. Basically, a default value for all hash keys.</p>
<p>With that knowledge in hand, we can take our array of elements and easily get occurrence counts for each unique element. We just need to initialize each key to 0 and then increment the count each time the element appears.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2013/08/you-dont-have-to-annotate-your-angularjs-injections-anymore/">
    <h1 class="excerpt-header">You don&#39;t have to annotate your AngularJS injections anymore</h1>
    <p class="excerpt-date">August 2, 2013</p>
    <p class="excerpt-text"><p>One unfortunate drawback of how <a href="http://angularjs.org">AngularJS&rsquo;s</a> dependency injection works is that it breaks when your code is minified. The reason it fails is that minification renames variables that Angular uses to resolve the dependencies.</p>
<p>So the natural way of injecting dependencies into a controller doesn&rsquo;t work:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#1f2328">app</span><span style="color:#1f2328">.</span><span style="color:#1f2328">controller</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;MyCtrl&#34;</span><span style="color:#1f2328">,</span> <span style="color:#cf222e">function</span><span style="color:#1f2328">(</span><span style="color:#1f2328">$scope</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">$http</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">MyService</span><span style="color:#1f2328">)</span> <span style="color:#1f2328">{});</span>
</span></span></code></pre></div><p>The minifier renames <code>$scope</code>, <code>$http</code>, and <code>MyService</code> (in order to, ahem, minify them) and the injection breaks.</p>
<p>The old answer to this problem (which you will still see people promoting) is to &ldquo;annotate&rdquo; your injections. At every injection point you pass in an array that resolves the variable/injection pair manually.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2013/07/coffeescript-classes-play-nicely-with-angularjs-factories/">
    <h1 class="excerpt-header">CoffeeScript Classes Play Nicely with AngularJS Factories</h1>
    <p class="excerpt-date">July 28, 2013</p>
    <p class="excerpt-text"><p>One of CoffeeScript&rsquo;s many virtues is built-in support for <a href="http://coffeescript.org/#classes">classes, inheritance, and super</a> via the <code>class</code> keyword. One of AngularJS&rsquo;s many virtues is built-in <a href="http://docs.angularjs.org/guide/dev_guide.services.creating_services">dependency injection of services</a> via factory functions.</p>
<p>How do you use CoffeeScript classes and AngularJS factories together? There is no trickery needed at all. You just define your class like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-coffeescript" data-lang="coffeescript"><span style="display:flex;"><span><span style="color:#1f2328">app</span><span style="color:#1f2328">.</span><span style="color:#1f2328">factory</span> <span style="color:#0a3069">&#34;Ticket&#34;</span><span style="color:#1f2328">,</span> <span style="color:#6639ba">-&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">class</span> <span style="color:#1f2328">Ticket</span>
</span></span><span style="display:flex;"><span>        <span style="color:#953800">constructor: </span><span style="color:#6639ba">(@price, @count) -&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#953800">amount: </span><span style="color:#6639ba">-&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#1f2328">@price</span> <span style="color:#0550ae">*</span> <span style="color:#6639ba">parseInt</span><span style="color:#1f2328">(</span><span style="color:#1f2328">@count</span><span style="color:#1f2328">,</span> <span style="color:#0550ae">10</span><span style="color:#1f2328">)</span>
</span></span></code></pre></div><p>Now you can inject a <code>Ticket</code> factory into, for instance, your controller context and use it like so:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2013/03/easy-share-nothing-wordpress-blog-syndication-on-rails/">
    <h1 class="excerpt-header">Easy &#39;Share-Nothing&#39; WordPress Blog Syndication on Rails</h1>
    <p class="excerpt-date">March 1, 2013</p>
    <p class="excerpt-text"><p>The new <a href="http://omahype.com">Omahype</a>, which is a custom Rails-based CMS centered around Omaha-area events, has a separate blog that runs on WordPress.</p>
<p>This is not all that uncommon. WordPress is great for blogging. Developing (or extending) a custom Rails blogging solution is of little value unless you&rsquo;re doing some crazy custom stuff.</p>
<p>Despite the blog and main site being on different platforms, there was still the need to integrate the blog content into every page of the Rails site.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2013/02/the-curious-case-of-activerecord-matching-yesterdays-events-even-though-i-told-it-not-to/">
    <h1 class="excerpt-header">The Curious Case of ActiveRecord Matching Yesterday&#39;s Events Even Though I Told it Not To</h1>
    <p class="excerpt-date">February 19, 2013</p>
    <p class="excerpt-text"><p>We uncovered a Strange Thing when working on <a href="http://omahype.com">Omahype&rsquo;s</a> event listings.</p>
<div class="notice">Omahype is a curated events calendar helping to foster art and culture in Omaha and the surrounding areas. If you&rsquo;re in the area, you should definitely check it out!</div>
<h2 id="the-strange-thing">The Strange Thing</h2>
<p>Omahype&rsquo;s <code>Event</code>s, which are ActiveRecord models, have a <code>start_time</code> field which we use to show people when the event starts.</p>
<p>We also use this field to distinguish past events from upcoming ones. The site&rsquo;s <a href="http://omahype.com/category/music">category views</a> call <code>Event.upcoming</code> to get only events from today and into the future. It looks something like this:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2013/02/rate-limit-post-requests-with-rackthrottle/">
    <h1 class="excerpt-header">Rate Limit POST Requests with Rack::Throttle</h1>
    <p class="excerpt-date">February 3, 2013</p>
    <p class="excerpt-text"><p><a href="https://github.com/datagraph/rack-throttle">Rack::Throttle</a> is an awesome piece of Rack middleware for rate limiting your Rails / Sinatra / Rack app&rsquo;s clients.</p>
<p>It ships with three rate limiting strategies out of the box: <a href="https://github.com/datagraph/rack-throttle/blob/master/lib/rack/throttle/interval.rb">Interval</a>, <a href="https://github.com/datagraph/rack-throttle/blob/master/lib/rack/throttle/hourly.rb">Hourly</a>, and <a href="https://github.com/datagraph/rack-throttle/blob/master/lib/rack/throttle/daily.rb">Daily</a>.</p>
<p>These strategies will serve 95% of people&rsquo;s needs, but you can also write your own strategy from scratch by subclassing the <a href="https://github.com/datagraph/rack-throttle/blob/master/lib/rack/throttle/limiter.rb">Limiter</a> and implementing an <code>allowed?</code> method.</p>
<p>In my experience, writing a strategy from scratch has not been necessary, but I have needed to extend the provided strategies a bit.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2013/02/fix-rails-api-oauth2-csrf-errors-on-rails-3.2.9-/">
    <h1 class="excerpt-header">Fix Rails-API Oauth2 CSRF Errors On Rails 3.2.9&#43;</h1>
    <p class="excerpt-date">February 1, 2013</p>
    <p class="excerpt-text"><p>If you <em>happen</em> to find yourself using <a href="https://github.com/rails-api/rails-api">Rails-API</a>, as I am. And you <em>happen</em> to be interacting with sundry <a href="https://github.com/intridea/omniauth-oauth2">Oauth2</a> providers via <a href="https://github.com/intridea/omniauth">Omniauth</a>, as I am. And you <em>happen</em> to be getting CSRF errors in your callback phase after upgrading Rails to anything higher than 3.2.8, as I was&hellip;</p>
<p>Boy do I have the post for you!</p>
<p>Rails-API excludes the session and cookie middleware by default<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>, but Omniauth needs them<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>. In Rails 3.2.8 and below, you can get both working by picking a session store middleware and <code>use</code>ing it in <code>config/application.rb</code>:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2013/01/configuring-redis-store-/-redis-rails-on-heroku/">
    <h1 class="excerpt-header">Configuring redis-store / redis-rails on Heroku</h1>
    <p class="excerpt-date">January 23, 2013</p>
    <p class="excerpt-text"><p><a href="https://github.com/jodosha/redis-store">redis-store&rsquo;s</a> redis-rails <a href="http://rubygems.org/gems/redis-rails">gem</a> is awesome, but it can be a pain in the buttox to get configured on Heroku.</p>
<p>That&rsquo;s because Heroku&rsquo;s ever-growing <a href="https://addons.heroku.com/?q=redis">list of Redis providers</a> all use <a href="https://devcenter.heroku.com/articles/config-vars">config vars</a> to set the Redis URL and redis-rails expects you to hook up the cache store and session store during the Rails application boot process, during which the config vars are unavailable.</p>
<p>Here&rsquo;s how I got it working:</p>
<p>First, delete <code>config/initializers/session_store.rb</code>. It&rsquo;s not needed because we&rsquo;ll initialize the session store and the cache store in the same place.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2013/01/dynamic-routes-to-static-pages-on-rails/">
    <h1 class="excerpt-header">Dynamic Routes to Static Pages on Rails</h1>
    <p class="excerpt-date">January 7, 2013</p>
    <p class="excerpt-text"><p>There&rsquo;s one thing that almost every web app and web site needs: <strong>static pages</strong></p>
<p>Many Rails users turn to a gem like Thoughtbot&rsquo;s <a href="https://github.com/thoughtbot/high_voltage">High Voltage</a> to address this need. I tend not to do that for a few reasons:</p>
<ul>
<li>Size matters. When it comes to Gemfiles, smaller is better.</li>
<li>Customization is inevitable, which often obviates any wins from going 3rd party</li>
<li>This is a trivial problem to solve</li>
</ul>
<p>Having cleared that, how do we go about creating static pages in Rails?</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2012/12/a-handy-method-to-share-data-from-rails-controllers-to-views-without-requiring-direct-instance-variable-access/">
    <h1 class="excerpt-header">A Handy Method to Share Data From Rails Controllers to Views Without Requiring Direct Instance Variable Access</h1>
    <p class="excerpt-date">December 18, 2012</p>
    <p class="excerpt-text"><p>Rails&rsquo; method of sharing data between controllers and views via instance variables bothers many developers. For the uninitiated, a Rails controller method like this one&hellip;</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">EventsController</span> <span style="color:#0550ae">&lt;</span> <span style="color:#0550ae">ApplicationController</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">def</span> <span style="color:#6639ba">index</span>
</span></span><span style="display:flex;"><span>    <span style="color:#953800">@events</span> <span style="color:#0550ae">=</span> <span style="color:#0550ae">Event</span><span style="color:#0550ae">.</span>scoped
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>&hellip; makes the <code>@events</code> instance variable accessible to the rendered view.</p>
<p>This bugs me, too. My beefs with it are:</p>
<ul>
<li>It is counterintuitive. Why would an <em>instance</em> variable be how you make something available <em>outside</em> the instance?</li>
<li>It couples the view and the controller more than necessary, shedding Ruby&rsquo;s encapsulation strength of having method calls and ivar accessors identical.</li>
<li>Views and partials have varying access to the instance variable, which is confusing.</li>
</ul>
<p>Better would be explicitly exposing the events collection to views via a reader and helper method, like this:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2012/12/capybara-and-poltergeist-snap/">
    <h1 class="excerpt-header">Capybara and Poltergeist: Snap!</h1>
    <p class="excerpt-date">December 11, 2012</p>
    <p class="excerpt-text"><p>I&rsquo;ve gotten a lot of mileage out of <a href="rspec.info">RSpec</a> plus <a href="http://jnicklas.github.com/capybara/">Capybara</a> for integration testing my Ruby apps lately.</p>
<p><a href="http://www.flickr.com/photos/gseloff/4661719163/" title="unNative Texan by gseloff, on Flickr"><img src="http://farm5.staticflickr.com/4036/4661719163_8668525d0f.jpg" width="500" height="393" alt="obligatory Capybara pic"></a></p>
<p>Executing JavaScript with Capybara used to be a pain, but I recently switched from <a href="https://github.com/thoughtbot/capybara-webkit">capybara-webkit</a> to <a href="https://github.com/jonleighton/poltergeist">Poltergeist</a> as my JS test driver.</p>
<p>Poltergeist uses <a href="http://phantomjs.org/">PhantomJS</a>, which in my experience is faster than capybara-webkit and easier to install.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p><img src="http://jerodsanto.net/drop/poltergeist.png" alt="Sadly, Sam Raimi will be subjecting Poltergeist to the ole&rsquo; Hollywood remake"></p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2012/11/a-domainr-cli-in-less-than-15-lines-of-ruby/">
    <h1 class="excerpt-header">A Domainr CLI in Less Than 15 Lines of Ruby</h1>
    <p class="excerpt-date">November 27, 2012</p>
    <p class="excerpt-text"><p>In 2009 I wrote a brief <a href="/2009/05/see-which-twitterers-dont-follow-youback-in-less-than-15-lines-of-ruby/">series</a> <a href="/2009/05/expand-your-twitter-network-in-less-than-15-lines-of-ruby/">of</a> <a href="/2009/05/create-arbitrarily-sized-files-in-less-than-15-lines-of-ruby/">posts</a> where I&rsquo;d implement something in less than 15 lines of Ruby.</p>
<p>Yesterday I took <a href="https://github.com/zachwill/dom">Dom</a>, a Python-based tool for accessing the <a href="http://domai.nr">Domainr</a> API, and rewrote it as a tiny Ruby script<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>. The script turned out to be so small that I thought I could squeeze it down to less than 15 lines. I was right<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>!</p>
<p>Here it is, complete with colored output!</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#57606a"># encoding: utf-8</span>
</span></span><span style="display:flex;"><span><span style="color:#0a3069">%w(json open-uri)</span><span style="color:#0550ae">.</span>each <span style="color:#1f2328">{</span> <span style="color:#0550ae">|</span>lib<span style="color:#0550ae">|</span> <span style="color:#6639ba">require</span> lib <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#6639ba">abort</span> <span style="color:#0a3069">&#34;Usage: </span><span style="color:#0a3069">#{</span><span style="color:#0550ae">File</span><span style="color:#0550ae">.</span>basename <span style="color:#6a737d">__FILE__</span><span style="color:#0a3069">}</span><span style="color:#0a3069"> [query]&#34;</span> <span style="color:#cf222e">unless</span> <span style="color:#0550ae">ARGV</span><span style="color:#0550ae">.</span>first
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>response <span style="color:#0550ae">=</span> <span style="color:#6639ba">open</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;http://domai.nr/api/json/search?q=</span><span style="color:#0a3069">#{</span><span style="color:#0550ae">ARGV</span><span style="color:#0550ae">.</span>first<span style="color:#0a3069">}</span><span style="color:#0a3069">&#34;</span><span style="color:#1f2328">)</span><span style="color:#0550ae">.</span>read
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">JSON</span><span style="color:#0550ae">.</span>parse<span style="color:#1f2328">(</span>response<span style="color:#1f2328">)</span><span style="color:#0550ae">[</span><span style="color:#0a3069">&#34;results&#34;</span><span style="color:#0550ae">].</span>each <span style="color:#cf222e">do</span> <span style="color:#0550ae">|</span>domain<span style="color:#0550ae">|</span>
</span></span><span style="display:flex;"><span>  symbol <span style="color:#0550ae">=</span> <span style="color:#cf222e">if</span> domain<span style="color:#0550ae">[</span><span style="color:#0a3069">&#34;availability&#34;</span><span style="color:#0550ae">]</span> <span style="color:#0550ae">==</span> <span style="color:#0a3069">&#34;available&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0a3069">&#34;</span><span style="color:#0a3069">\e</span><span style="color:#0a3069">[32m✓</span><span style="color:#0a3069">\e</span><span style="color:#0a3069">[0m&#34;</span> <span style="color:#57606a"># 32 = green</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">else</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0a3069">&#34;</span><span style="color:#0a3069">\e</span><span style="color:#0a3069">[31m✗</span><span style="color:#0a3069">\e</span><span style="color:#0a3069">[0m&#34;</span> <span style="color:#57606a"># 31 = red</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6639ba">puts</span> <span style="color:#0a3069">&#34;</span><span style="color:#0a3069">#{</span>symbol<span style="color:#0a3069">}</span><span style="color:#0a3069"> </span><span style="color:#0a3069">#{</span>domain<span style="color:#0550ae">[</span><span style="color:#0a3069">&#39;domain&#39;</span><span style="color:#0550ae">]</span><span style="color:#0a3069">}</span><span style="color:#0a3069">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>Drop that baby in your <code>PATH</code> and <code>chmod +x</code> it for all of your domain name reconnaissance needs.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2012/11/an-algorithm-to-reliably-identify-nested-substrings/">
    <h1 class="excerpt-header">An Algorithm to Reliably Identify Nested Substrings</h1>
    <p class="excerpt-date">November 12, 2012</p>
    <p class="excerpt-text"><p>Regular expressions are great for matching many patterns, but they are usually not ideal when matching nested structures (recursive matching).</p>
<p><em>Most</em> regular expression engines can handle a known level of recursion and <em>some</em> engines can even handle arbitrary recursion, but the required expressions are often quite complex, which makes them difficult to read, modify, and extend.</p>
<p>Instead, you can use this simple algorithm to identify nested substrings.</p>
<h2 id="the-algorithm">The Algorithm</h2>
<p>Traverse the string&rsquo;s characters one by one, applying the following logic:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2012/10/a-common-gotcha-when-using-ruby-regexps-for-input-validation/">
    <h1 class="excerpt-header">A Common Gotcha When Using Ruby Regexps For Input Validation</h1>
    <p class="excerpt-date">October 19, 2012</p>
    <p class="excerpt-text"><p>One difficulty of using <a href="http://en.wikipedia.org/wiki/Regular_expression">Regular Expressions</a> effectively is that each language has their own little idiosyncrasies that can get you in to trouble.</p>
<p>Ruby has a particularly nasty Regexp foible around start-of-string and end-of-string anchors that confuses many of us, my-previous-self included.</p>
<p>In most languages, the <code>^</code> and <code>$</code> special characters match the start and end of a <em>string</em>, respectively. You can also opt in to multi-line mode where they will instead match the start and end of a <em>line</em>.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2012/07/some-white-spaces-are-more-equal-than-others/">
    <h1 class="excerpt-header">Some White Spaces are More Equal Than Others</h1>
    <p class="excerpt-date">July 23, 2012</p>
    <p class="excerpt-text"><p>Let&rsquo;s not argue about tabs vs. spaces. Let&rsquo;s argue about spaces vs. spaces!</p>
<p>Some developers use four spaces to represent one unit of indentation. Others prefer two spaces instead. Which is better? Is there such a thing as better, or is it <em>just</em> a matter of taste?</p>
<div class="notice">I&rsquo;ve heard rumor of some crazies who use eight spaces for indentation, but I&rsquo;m fortunate enough not to have encounterd one in the wild.</div>
<p>I submit that the correct answer is almost always two spaces, with one exception where four spaces wins out. Here&rsquo;s why.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2012/07/my-favorite-bundler-feature/">
    <h1 class="excerpt-header">My Favorite Bundler Feature</h1>
    <p class="excerpt-date">July 3, 2012</p>
    <p class="excerpt-text"><p>If you&rsquo;re a Ruby developer — and you haven&rsquo;t been too busy starring in <a href="http://www.youtube.com/watch?v=cvXqm0RdJms">Geico commercials</a> — you are familiar with <a href="http://gembundler.com/">Bundler</a>.</p>
<p>Bundler solved a real pain point in the lives of Ruby devs: dependency management. It was a rocky road, but we eventually got there and I think it&rsquo;s safe to say that we&rsquo;re all better off with Bundler than we were without it.</p>
<div class="notice">I&rsquo;d like to thank everybody who has contributed to Bundler. Your work is much appreciated.</div>
<p>Having used Bundler long enough to take its dependency management feature for granted (<em>snark</em>), I&rsquo;ve come to know and love another feature of Bundler: <code>bundle open</code></p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2012/05/enumerables-ect-methods-reimplemented-using-each_with_object/">
    <h1 class="excerpt-header">Enumerable&#39;s *ect Methods Reimplemented Using `each_with_object`</h1>
    <p class="excerpt-date">May 20, 2012</p>
    <p class="excerpt-text"><p>On episode <a href="http://rubyrogues.com/054-rr-coding-exercises-quizzes-and-katas/">54</a> of the Ruby Rogues podcast, <a href="http://twitter.com/joshsusser">Josh Susser</a> mentioned an interview question he used to use where he would ask interviewees to reimplement <a href="http://ruby-doc.org/core-1.9.3/Enumerable.html">Enumerable&rsquo;s</a> *ect methods (<code>collect</code>, <code>select</code>, <code>reject</code>, and <code>detect</code>) using <code>inject</code>.</p>
<p>On the same show, <a href="http://twitter.com/jeg2">James Edward Gray</a> aptly pointed out that Ruby 1.9 has a new method that works a lot like <code>inject</code>, but has a more meaningul name and removes the need to expliticly return the passed object during each pass: <a href="http://ruby-doc.org/core-1.9.3/Enumerable.html#method-i-each_with_object"><code>each_with_object</code></a>.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2012/04/confessions-of-a-meteor-newb/">
    <h1 class="excerpt-header">Confessions of a Meteor Newb</h1>
    <p class="excerpt-date">April 23, 2012</p>
    <p class="excerpt-text"><p>I recently took part in the first (annual, I hope) <a href="http://hackomaha.com">Hack Omaha</a> competition. I teamed up with the ridiculously talented <a href="http://www.zachleat.com/web/">Zach Leatherman</a> to create <a href="http://www.omahabountyhunter.com">Omaha Bounty Hunter</a>, a web-based The-Price-is-Right-style game using the provided <a href="https://hackomaha.socrata.com/Government/CRIME_property/3nfn-ev8i">Property Crime</a> data set.</p>
<p><a href="http://www.omahabountyhunter.com"><img src="http://www.omahabountyhunter.com/obh-logo.png" alt="Omaha Bounty Hunter" style="background: black"></a></p>
<p>As Zach and I were getting started, we were lamenting how timed coding competitions rarely provide opportunity to learn new tricks or try new tech. That&rsquo;s when one of us (I can&rsquo;t recall who) had a crazy idea&hellip; let&rsquo;s build this thing with the just-released <a href="http://meteor.com">Meteor</a> JavaScript framework!</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2012/04/dead-simple-rails-config/">
    <h1 class="excerpt-header">Dead Simple Rails Config</h1>
    <p class="excerpt-date">April 4, 2012</p>
    <p class="excerpt-text"><p>Your Rails app needs custom configuration so you run off to GitHub to find a gem for that. Stop.</p>
<p>That would&rsquo;ve been prudent in the bad ole&rsquo; days, but Rails 3 makes adding custom configuration dead simple. You <strike>don&rsquo;t have to</strike> shouldn&rsquo;t add a dependency. Here&rsquo;s how easy it is:</p>
<div class="notice">This method provides custom configuration without checking it in to version control. It&rsquo;s even easier if your configuration settings do not need to be private.</div>
<h2 id="easy-access">Easy Access</h2>
<p>There are two ways to access our application&rsquo;s configuration object in Rails 3.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2012/02/a-simple-pattern-to-namespace-and-selectively-execute-certain-bits-of-javascript-depending-on-which-rails-controller-and-action-are-active/">
    <h1 class="excerpt-header">A Simple Pattern to Namespace and Selectively Execute Certain Bits of JavaScript Depending on Which Rails Controller and Action are Active</h1>
    <p class="excerpt-date">February 8, 2012</p>
    <p class="excerpt-text"><p>Rails 3.1&rsquo;s asset pipeline compiles all of our JavaScript into a single file which is executed on all pages which include the <code>javascript_include_tag</code> method. Most of the time that method is in the layout, which means evey page gets the same bundle of JavaScript. This is great for caching, but not so great for selective code execution.</p>
<p>I developed a pretty simple pattern to namespace and selectively execute certain bits of JavaScript depending on which Rails controller action is active. Just do the following:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2011/07/building-multi-tenant-rails-apps-with-postgresql-schemas/">
    <h1 class="excerpt-header">Building Multi-tenant Rails Apps with PostgreSQL Schemas</h1>
    <p class="excerpt-date">July 18, 2011</p>
    <p class="excerpt-text"><p>Many Rails apps need to accommodate multiple tenants. There are a few different ways to go about this, each with their set of pros and cons. Guy Naor did a great job of diving into the pros and cons of each strategy in his <a href="http://confreaks.net/videos/111-aac2009-writing-multi-tenant-applications-in-rails">2009 Acts As Conference talk</a> (a must-watch).</p>
<p>One of the multi-tenant strategies he presented takes advantage of a feature specific to <a href="http://www.postgresql.org">PostgreSQL</a> called &ldquo;Schemas&rdquo;. His talk was technical, but didn&rsquo;t go in-depth into implementation details. There are a few blog posts, <a href="http://stackoverflow.com/questions/2782758/creating-a-multi-tenant-application-using-postgresqls-schemas-and-rails">Stack Overflow</a> threads, and other semi-related flotsam around the tubes on how to actually accomplish a multi-tenant app using this strategy, but I still had to figure out many things on my own so I figured I&rsquo;d document the setup.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2011/06/cap-dbpull/">
    <h1 class="excerpt-header">cap db:pull</h1>
    <p class="excerpt-date">June 29, 2011</p>
    <p class="excerpt-text"><p>If there&rsquo;s one thing I&rsquo;ve learned from <a href="http://heroku.com">Heroku</a>, it&rsquo;s that grabbing a snapshot of your production database is incredibly handy for troubleshooting.</p>
<p><code>heroku db:pull</code> is so rad that I wanted to have it on other projects not hosted on their platform, so I wrote a <a href="https://github.com/capistrano/capistrano/wiki">Capistrano</a> task which accomplishes the same goal.</p>
<p>This task is <a href="http://www.postgresql.org">PostgreSQL</a> specific, but can be easily adapted to work with other datastores. Just replace the <code>pg_dump</code> and <code>pg_restore</code> related commands with ones that your datastore provides. The process is still the same.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2011/06/connecting-node.js-to-redis-to-go-on-heroku/">
    <h1 class="excerpt-header">Connecting Node.js to Redis To Go on Heroku</h1>
    <p class="excerpt-date">June 17, 2011</p>
    <p class="excerpt-text"><p>Heroku&rsquo;s new <a href="http://devcenter.heroku.com/articles/cedar">Cedar stack</a> is awesome for many reasons, one of which is first-class <a href="http://nodejs.org">Node.js</a> hosting.</p>
<p>I&rsquo;m giving it a test run with an app that uses <a href="http://redis.io">Redis</a> for data caching and I couldn&rsquo;t find any documentation on how to connect a Node app to the <a href="http://redistogo.com">Redis To Go</a> add-on. Here&rsquo;s how I did it:</p>
<div class="notice">This assumes that you&rsquo;ve already created the Heroku app or don&rsquo;t need any help in doing so. Heroku has a <a href="http://devcenter.heroku.com/articles/node-js">great tutorial</a> on how to deploy a Node app on Cedar.</div>
<p>First, add the Redis To Go add-on via the <code>heroku</code> command:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2011/04/pow-and-apache-side-by-side/">
    <h1 class="excerpt-header">Pow and Apache Side-by-Side</h1>
    <p class="excerpt-date">April 12, 2011</p>
    <p class="excerpt-text"><p>You&rsquo;ve probably heard of <a href="http://pow.cx/">Pow</a>. It is awesome. However, it <a href="https://github.com/37signals/pow/issues/48#issuecomment-973701">doesn&rsquo;t play nice</a> with Apache running on the same box. Pow redirects all localhost traffic on port 80 to its own application server listening on a different port. This sucks for anybody — myself included — who also develops non-Ruby web apps using Apache virtual hosts.</p>
<p>Thankfully there&rsquo;s an elegant workaround to this problem and it comes from the future: <a href="http://en.wikipedia.org/wiki/IPv6">IPv6</a>.</p>
<div class="notice">I&rsquo;m sure you know that IPv6 is not actually from the future, but its wide-spread adoption certainly is!</div>
<p>By configuring Apache to use IPv6 and Pow to use IPv4 they can both live in harmony and bind to port 80 to their heart&rsquo;s content. Pow is on IPv4 already, so we just have to get Apache on IPv6. Here&rsquo;s how:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2011/04/activerecord-association-caching-gotcha/">
    <h1 class="excerpt-header">ActiveRecord Association Caching Gotcha</h1>
    <p class="excerpt-date">April 7, 2011</p>
    <p class="excerpt-text"><p>Here&rsquo;s a quick bit of info that will hopefully save somebody some time. ActiveRecord&rsquo;s association methods are built around caching. This caching is disabled by default in <strong>development</strong> mode, but enabled in <strong>test</strong> and <strong>production</strong> modes. If you&rsquo;re doing any kind of association updating in an ActiveRecord callback you may run into this caching and slam your head against your desk a few times.</p>
<p>Say we have a <code>Pledge</code> class that belongs to a <code>Person</code> class. People also have <code>Job</code>s and we want to (re)set their <code>job_id</code> when a <code>Pledge</code> is saved. Enter a virtual attribute and a callback:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2011/02/the-perfect-setup-rails-on-screen/">
    <h1 class="excerpt-header">The Perfect Setup: Rails on Screen</h1>
    <p class="excerpt-date">February 25, 2011</p>
    <p class="excerpt-text"><p>If, like me, you prefer staying light on your feet, you probably use a powerful text editor coupled with multiple shell sessions to drive your <a href="http://rubyonrails.org">Rails</a> development. Unfortunately, managing said shells <em>can</em> get a bit unwieldy, but thankfully UNIX-based systems have a tool just for the job: <a href="http://www.gnu.org/software/screen/">GNU Screen</a>.</p>
<p>This post isn&rsquo;t trying to sell you on <code>screen</code>. There are umpteen sites out there which do that. Instead, I&rsquo;d like to share with you how I&rsquo;ve engineered my setup such that it&rsquo;s a joy to use.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2011/01/jquery-isinarray-boolean-sugar/">
    <h1 class="excerpt-header">jQuery: isInArray Boolean Sugar</h1>
    <p class="excerpt-date">January 31, 2011</p>
    <p class="excerpt-text"><p>jQuery has a utility function called <code>jQuery.inArray</code> which confounds <a href="http://forum.jquery.com/topic/inarray">many people</a> when they first stumble across it in the <a href="http://api.jquery.com/jQuery.inArray/">API docs</a>. The name implies a boolean return, but the function is really just a proxy in front of <code>Array.indexOf</code> to allow for cross-browser use. It returns the index of the value found in the array or -1 if the value is not found.</p>
<p>The bad news is the function name won&rsquo;t be changing anytime soon due to backwards-compatibility. The good news is it&rsquo;s a one-liner to add some syntactic sugar around it for your own use. I call it <code>isInArray</code>. <code>arrayInclude</code> or <code>arrayHas</code> would work too, but they imply an array-first argument order which just adds to the confusion.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2010/12/bridging-the-gap-between-javascripts-console.log-and-cocoas-nslog/">
    <h1 class="excerpt-header">Bridging the Gap Between JavaScript&#39;s console.log and Cocoa&#39;s NSLog</h1>
    <p class="excerpt-date">December 27, 2010</p>
    <p class="excerpt-text"><p><a href="http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/WebKit/Classes/WebView_Class/Reference/Reference.html">Cocoa&rsquo;s WebViews</a> provide a <a href="http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/WebKit/Classes/WebScriptObject_Class/Reference/Reference.html%23//apple_ref/doc/c_ref/WebScriptObject">scripting object</a> through which you can execute JavaScript from Objective-C and Objective-C from JavaScript.</p>
<p>Unfortunately, getting feedback from the JavaScript executed inside a <code>WebView</code> is not totally straight forward. Exceptions are converted into <code>undefined</code>s (more on that <a href="http://www.thimbleby.net/script/">here</a>) and you can only get back a single return value to use for debugging.</p>
<p>Wouldn&rsquo;t it be neato if you could just continue using <code>console.log()</code> calls from inside JavaScript like you&rsquo;re used to and have the output displayed in Xcode&rsquo;s Debugger Console? Good news, folks. You can! Here&rsquo;s how:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2010/12/the-tech-behind-the-new-grooveshark/">
    <h1 class="excerpt-header">The Tech Behind the New Grooveshark</h1>
    <p class="excerpt-date">December 15, 2010</p>
    <p class="excerpt-text"><p>I recently enjoyed the opportunity to help <a href="http://listen.grooveshark.com">Grooveshark</a> reinvent their web interface. There are many things I could say about this project, but if I were limited to a summary statement it would be that we stood on the shoulders of one giant open source community.</p>
<p>This post is my thanks to the authors and contributors of the software used. We probably <em>could have</em> done it without you, but I&rsquo;m sure glad we didn&rsquo;t have to!</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2010/12/making-rails-3s-mail-gem-and-paperclip-play-nice/">
    <h1 class="excerpt-header">Making Rails 3&#39;s Mail Gem and Paperclip Play Nice</h1>
    <p class="excerpt-date">December 9, 2010</p>
    <p class="excerpt-text"><p>I have a Rails application that allows people to email in attachments that become documents in the system. I use the excellent <a href="https://github.com/thoughtbot/paperclip">Paperclip</a> gem to handle the files attached to the documents. You know, like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">Document</span> <span style="color:#0550ae">&lt;</span> <span style="color:#0550ae">ActiveRecord</span><span style="color:#0550ae">::</span><span style="color:#0550ae">Base</span>
</span></span><span style="display:flex;"><span>  has_attached_file <span style="color:#032f62">:data</span><span style="color:#1f2328">,</span> <span style="color:#032f62">:url</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#0a3069">&#34;/system/docs/:id/:style/:filename&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a"># ... clip ...</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>I <em>was</em> using the <a href="http://tmail.rubyforge.org/">TMail</a> gem to parse the incoming emails and send the attachments to Paperclip. It looked a bit like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>email <span style="color:#0550ae">=</span> <span style="color:#0550ae">TMail</span><span style="color:#0550ae">::</span><span style="color:#0550ae">Mail</span><span style="color:#0550ae">.</span>parse<span style="color:#1f2328">(</span>incoming<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">if</span> email<span style="color:#0550ae">.</span>has_attachments?
</span></span><span style="display:flex;"><span>  email<span style="color:#0550ae">.</span>attachments<span style="color:#0550ae">.</span>each <span style="color:#cf222e">do</span> <span style="color:#0550ae">|</span>attachment<span style="color:#0550ae">|</span>
</span></span><span style="display:flex;"><span>    d <span style="color:#0550ae">=</span> <span style="color:#0550ae">Document</span><span style="color:#0550ae">.</span>new
</span></span><span style="display:flex;"><span>    d<span style="color:#0550ae">.</span>data <span style="color:#0550ae">=</span> attachment
</span></span><span style="display:flex;"><span>    d<span style="color:#0550ae">.</span>save
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>That&rsquo;s pretty easy. But..</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2010/01/testing-cappuccino-notifications/">
    <h1 class="excerpt-header">Testing Cappuccino Notifications</h1>
    <p class="excerpt-date">January 7, 2010</p>
    <p class="excerpt-text"><p>Writing a web app using <a href="http://cappuccino.org">Cappuccino</a> has a lot of benefits, one of which is a really nice message passing system wherein certain objects can register to observe events and take action when other objects post notifications of those events.</p>
<p>Here is a very basic way to test if your app is posting event notifications as you expect it to. First, create an Observer class inside a test helper file, which will be included into your tests:
~</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/12/rubular/">
    <h1 class="excerpt-header">Rubular</h1>
    <p class="excerpt-date">December 2, 2009</p>
    <p class="excerpt-text"><p>Most of the online regular expression testers I&rsquo;ve used just aren&rsquo;t that useful, but <a href="http://rubular.com">Rubular</a> is the exception. It uses AJAX appropriately, has a clean aesthetic, and the quick reference at the bottom of the page is so useful it hurts. Plus, it has great features such as match extraction and the ability to create permalinks to your results.</p>
<img class="aligncenter size-full wp-image-812" title="rubular" src="/wp-content/uploads/2009/12/rubular.png" height="279" alt="rubular" width="650" />
<p><a href="http://rubular.com">Rubular</a> is only for Ruby regexes. I wish somebody would make one for JavaScript. Jubular, anyone?</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/11/280-atlas-introductory-screencast/">
    <h1 class="excerpt-header">280 Atlas Introductory Screencast</h1>
    <p class="excerpt-date">November 16, 2009</p>
    <p class="excerpt-text"><p>The much anticipated <a href="https://atlas-beta.heroku.com/" rel="external">280 Atlas developer beta</a> is under way and I recorded a brief screencast introducing the basic concepts of creating applications with Atlas.</p>
<p>In it I build a simplified version of the payment calculator from chapter 2 of <a href="http://www.amazon.com/gp/product/0321535022?ie=UTF8&amp;tag=standadeviat-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0321535022">Cocoa Design Patterns</a>.</p>
<p>Topics covered include creating a Cib-based project, laying out an interface and binding outlets/actions to working code.</p>
<p>Hope it helps!</p>
<p><object height="360" width="640"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id=7646585&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=00ADEF&amp;fullscreen=1" /><embed allowfullscreen="true" src="http://vimeo.com/moogaloop.swf?clip_id=7646585&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=00ADEF&amp;fullscreen=1" allowscriptaccess="always" type="application/x-shockwave-flash" height="360" width="640"></embed></object></p>
<p><a href="http://vimeo.com/7646585">280 Atlas Introductory Screencast</a> from <a href="http://vimeo.com/jerodsanto">Jerod Santo</a> on <a href="http://vimeo.com">Vimeo</a>.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/08/just-abort-it/">
    <h1 class="excerpt-header">Just Abort It</h1>
    <p class="excerpt-date">August 24, 2009</p>
    <p class="excerpt-text"><p>A lot of people end up writing Ruby methods that looks something like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#cf222e">def</span> <span style="color:#6639ba">stop_error</span><span style="color:#1f2328">(</span>message<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6639ba">puts</span> <span style="color:#0a3069">&#34;ERROR: </span><span style="color:#0a3069">#{</span>message<span style="color:#0a3069">}</span><span style="color:#0a3069">&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6639ba">exit</span><span style="color:#1f2328">(</span><span style="color:#0550ae">1</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>Which they call in their app like so:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>stop_error <span style="color:#0a3069">&#34;Oh noes, file doesn&#39;t exist!&#34;</span> <span style="color:#cf222e">unless</span> <span style="color:#0550ae">File</span><span style="color:#0550ae">.</span>exist?<span style="color:#1f2328">(</span>file<span style="color:#1f2328">)</span>
</span></span></code></pre></div><p>I used to write that method a lot too. Did you know Ruby has a built-in method that provides just what we&rsquo;re all looking for?</p>
<p><code>Kernel::abort</code></p>
<p>So, stop writing your own little method and just abort it:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#6639ba">abort</span> <span style="color:#0a3069">&#34;Oh noes, file doesn&#39;t exist!&#34;</span> <span style="color:#cf222e">unless</span> <span style="color:#0550ae">File</span><span style="color:#0550ae">.</span>exist?<span style="color:#1f2328">(</span>file<span style="color:#1f2328">)</span>
</span></span></code></pre></div></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/08/self-scheduling-ruby-scripts/">
    <h1 class="excerpt-header">Self-Scheduling Ruby Scripts</h1>
    <p class="excerpt-date">August 20, 2009</p>
    <p class="excerpt-text"><p><a href="%22http://github.com/javan/whenever/%22">Whenever</a> is an awesome library that:</p>
<blockquote>
<p>&ldquo;provides a clean ruby syntax for defining messy cron jobs and running them Whenever.</p>
</blockquote>
<p><code>Whenever</code> has become very popular for use with Rails apps and there are plenty of tutorials on how to use it. This <a href="%22http://railscasts.com/episodes/164-cron-in-ruby%22">RailsCast</a> is a good place to get started if you&rsquo;re interested in that.</p>
<p>However, I haven&rsquo;t seen too many people writing about using the library outside of Rails (or other web frameworks).</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/08/amending-git-commits/">
    <h1 class="excerpt-header">Amending Git Commits</h1>
    <p class="excerpt-date">August 16, 2009</p>
    <p class="excerpt-text"><p>I recently learned that you can fix you&rsquo;re previous commit (modify commit message, add more files, etc.) quite easily with git. An example:</p>
<p>You&rsquo;re in early stages of developing a Rails app and you decide that you want to go back and add some indexes to your tables. No need to create a new migration at this point, just add the indexes to the old migrations and run them again. After making the changes, you create a commit</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/07/ad-hoc-rails-console-logging/">
    <h1 class="excerpt-header">Ad Hoc Rails Console Logging</h1>
    <p class="excerpt-date">July 18, 2009</p>
    <p class="excerpt-text"><p>I recently found a couple of cool <a href="%22http://toolmantim.com/articles/logging_rails_activity_in_script_console%22">old</a> <a href="%22http://toolmantim.com/articles/system_wide_script_console_logging%22">tricks</a> for logging Rails activity directly to the console, but these solutions are pretty static once you&rsquo;re inside a console session. In my experience, sometimes logging to the console is cool and most of the time it isn&rsquo;t.</p>
<p>If you want to be able to toggle your development log between the default Rails logger and the console, just add this method to your <code>~/.irbrc</code>:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/07/sass-never-forgets/">
    <h1 class="excerpt-header">Sass Never Forgets</h1>
    <p class="excerpt-date">July 9, 2009</p>
    <p class="excerpt-text"><p>Some CSS techniques require me to Google about like a chicken with its head cut off. One such technique is placing a div in the dead center of a page (vertically and horizontally). Since I&rsquo;m using <a href="http://sass-lang.com">Sass</a> pretty much exclusively these days, I decided to define this technique as a mixin so I don&rsquo;t have to look it up anymore.</p>
<p>Hopefully this can be of use to others. YMMV:</p>
<p>The mixin definition:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/07/jquery-tools-101-nested-tabs/">
    <h1 class="excerpt-header">jQuery Tools 101: Nested Tabs</h1>
    <p class="excerpt-date">July 1, 2009</p>
    <p class="excerpt-text"><p><a href="http://flowplayer.org/tools/index.html">jQuery Tools</a> is the new kid on the block when it comes to jQuery-based user interface libraries. What it offers is a solid foundation of widgets at an extremely small file size (5.8 KB minified).</p>
<p>I decided to ditch <a href="http://jqueryui.com">jQuery UI</a> on a recent project when I couldn&rsquo;t get tabs &amp; accordions to play nice together (also, their site was down when I needed it so I took that as a sign). This was a great opportunity to try jQuery Tools and I have been very impressed thus far.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/06/let-capistrano-compile-ruby-1.9-for-you/">
    <h1 class="excerpt-header">Let Capistrano Compile Ruby 1.9 For You</h1>
    <p class="excerpt-date">June 2, 2009</p>
    <p class="excerpt-text"><p>A Capistrano task to install Ruby 1.9.1 to <code>/opt/ruby-1.9.1</code> on Debian:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#0550ae">APTGET</span> <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#34;apt-get install -qqy&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">RUBY19</span> <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#34;ruby-1.9.1-p129&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">SRC</span>    <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#34;/usr/local/src&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">WGET</span>   <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#34;wget -q&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>namespace <span style="color:#032f62">:ruby</span> <span style="color:#cf222e">do</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  desc <span style="color:#0a3069">&#39;download and compile Ruby 1.9&#39;</span>
</span></span><span style="display:flex;"><span>  task <span style="color:#032f62">:install_19</span> <span style="color:#cf222e">do</span>
</span></span><span style="display:flex;"><span>    deps    <span style="color:#0550ae">=</span> <span style="color:#0a3069">%w&#39;zlib1g-dev libopenssl-ruby1.9&#39;</span>
</span></span><span style="display:flex;"><span>    version <span style="color:#0550ae">=</span> <span style="color:#0550ae">RUBY19</span><span style="color:#0550ae">.</span>gsub<span style="color:#1f2328">(</span><span style="color:#0a3069">/-p\d+$/</span><span style="color:#1f2328">,</span><span style="color:#0a3069">&#34;&#34;</span><span style="color:#1f2328">)</span> <span style="color:#57606a"># remove patch level</span>
</span></span><span style="display:flex;"><span>    run <span style="color:#0a3069">&#34;</span><span style="color:#0a3069">#{</span><span style="color:#0550ae">APTGET</span><span style="color:#0a3069">}</span><span style="color:#0a3069"> </span><span style="color:#0a3069">#{</span>deps<span style="color:#0550ae">.</span>join<span style="color:#1f2328">(</span><span style="color:#0a3069">&#39; &#39;</span><span style="color:#1f2328">)</span><span style="color:#0a3069">}</span><span style="color:#0a3069">&#34;</span>
</span></span><span style="display:flex;"><span>    cmd <span style="color:#0550ae">=</span> <span style="color:#0550ae">[</span>
</span></span><span style="display:flex;"><span>      <span style="color:#0a3069">&#34;cd </span><span style="color:#0a3069">#{</span><span style="color:#0550ae">SRC</span><span style="color:#0a3069">}</span><span style="color:#0a3069">&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#0a3069">&#34;</span><span style="color:#0a3069">#{</span><span style="color:#0550ae">WGET</span><span style="color:#0a3069">}</span><span style="color:#0a3069"> ftp://ftp.ruby-lang.org/pub/ruby/1.9/</span><span style="color:#0a3069">#{</span><span style="color:#0550ae">RUBY19</span><span style="color:#0a3069">}</span><span style="color:#0a3069">.tar.gz&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#0a3069">&#34;tar zxvf </span><span style="color:#0a3069">#{</span><span style="color:#0550ae">RUBY19</span><span style="color:#0a3069">}</span><span style="color:#0a3069">.tar.gz&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#0a3069">&#34;cd </span><span style="color:#0a3069">#{</span><span style="color:#0550ae">RUBY19</span><span style="color:#0a3069">}</span><span style="color:#0a3069">&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#0a3069">&#34;./configure --prefix=/opt/</span><span style="color:#0a3069">#{</span>version<span style="color:#0a3069">}</span><span style="color:#0a3069"> --enable-shared&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#0a3069">&#34;make&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#0a3069">&#34;make install&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#0550ae">].</span>join<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34; &amp;&amp; &#34;</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>      run cmd
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>With this task, you can quickly upgrade all your Debian machines to Ruby 1.9.1 without having to go through the process each time. Just:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/05/dead-simple-rails-deployment/">
    <h1 class="excerpt-header">Dead Simple Rails Deployment</h1>
    <p class="excerpt-date">May 31, 2009</p>
    <p class="excerpt-text"><p>Deploying a Rails app used to suck. Reverse proxies, Mongrel clusters, Monit, etc. <a href="http://www.capify.org/">Capistrano</a> helped out a lot (once you set it up the first time), but all in all the process was still pretty painful.</p>
<p>Thankfully, a couple of technologies have come along and made my deployment process a whole lot easier.</p>
<ol>
<li>
<p><a href="http://modrails.com/">Passenger</a>
This was the big one. The <a href="http://www.phusion.nl/">Phusion</a> guys&rsquo; &ldquo;Hello World&rdquo; app (as they called it) has really had a positive impact on the Rails community, and me personally. Suddenly my Rails (and Rack) web apps are first class citizens to Apache (and Nginx), which means I can just point a virtual host at the public directory and go. I had almost forgotten how good it feels to just drop some files in a directory and have Apache serve them.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/05/create-arbitrarily-sized-files-in-less-than-15-lines-of-ruby/">
    <h1 class="excerpt-header">Create Arbitrarily Sized Files In Less Than 15 Lines of Ruby</h1>
    <p class="excerpt-date">May 22, 2009</p>
    <p class="excerpt-text"><p>Ok, so I&rsquo;m having fun with this &ldquo;in less than 15 lines of Ruby&rdquo; idea, but this time I turn my attention away from Twitter (I know, that&rsquo;s hard to do right now) and toward file generation.</p>
<p>Sometimes you just need a 1GB file. Or a 350MB file. Or a 1MB file. It doesn&rsquo;t matter what is in that file, but size does matter (heh).</p>
<p>With this little Ruby script, you can arbitrarily generate files of any size (using 1MB increments).</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/05/jquery-open-external-links-in-new-window/tab/">
    <h1 class="excerpt-header">jQuery: Open External Links In New Window/Tab</h1>
    <p class="excerpt-date">May 18, 2009</p>
    <p class="excerpt-text"><p>The common technique to force links to open a new window or tab is to add a <code>target</code> attribute like so:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">a</span> <span style="color:#1f2328">href</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;http://hulu.com&#34;</span> <span style="color:#1f2328">target</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;_blank&#34;</span><span style="color:#1f2328">&gt;</span>check it out<span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">a</span><span style="color:#1f2328">&gt;</span>
</span></span></code></pre></div><p>This works just fine but is not actually valid markup. Fortunately, we can use jQuery to add the target attribute so it doesn&rsquo;t muck up the HTML.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#1f2328">$</span><span style="color:#1f2328">(</span><span style="color:#6639ba">document</span><span style="color:#1f2328">).</span><span style="color:#1f2328">ready</span><span style="color:#1f2328">(</span><span style="color:#cf222e">function</span><span style="color:#1f2328">()</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">$</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#39;a[rel=&#34;external&#34;]&#39;</span><span style="color:#1f2328">).</span><span style="color:#1f2328">click</span><span style="color:#1f2328">(</span><span style="color:#cf222e">function</span><span style="color:#1f2328">(){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">$</span><span style="color:#1f2328">(</span><span style="color:#cf222e">this</span><span style="color:#1f2328">).</span><span style="color:#1f2328">attr</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#39;target&#39;</span><span style="color:#1f2328">,</span><span style="color:#0a3069">&#39;_blank&#39;</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">});</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">});</span>
</span></span></code></pre></div><p>Change that invalid link to look like this instead:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">a</span> <span style="color:#1f2328">href</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;http://hulu.com&#34;</span> <span style="color:#1f2328">rel</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;external&#34;</span><span style="color:#1f2328">&gt;</span>check it out<span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">a</span><span style="color:#1f2328">&gt;</span>
</span></span></code></pre></div><p>Now the link forces browsers to open a new window/tab and the markup is still valid. Easy cheesy.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/05/expand-your-twitter-network-in-less-than-15-lines-of-ruby/">
    <h1 class="excerpt-header">Expand Your Twitter Network In Less Than 15 Lines of Ruby</h1>
    <p class="excerpt-date">May 17, 2009</p>
    <p class="excerpt-text"><p>A great way to meet new people on Twitter is by checking out the people your friends are interacting with. We can assume that if many of your friends follow somebody, that person has a high likelihood of being interesting to you (or it is <a href="http://twitter.com/aplusk">Ashton Kutcher</a>). Let&rsquo;s use Ruby to generate a list of people highly followed by our friends.</p>
<h2 id="the-flow">The Flow</h2>
<ol>
<li>fetch the ids of all the people you follow</li>
<li>use those ids to fetch the ids of all the people they follow</li>
<li>remove any ids in both groups (sound familiar?)</li>
<li>tally the occurrences of each unique id in the list</li>
<li>sort them by most occurrences</li>
<li>iterate the top 10 and print the user information</li>
</ol>
<h2 id="the-script">The Script</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#6639ba">require</span> <span style="color:#0a3069">&#39;rubygems&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#6639ba">require</span> <span style="color:#0a3069">&#39;twitter&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>base        <span style="color:#0550ae">=</span> <span style="color:#0550ae">Twitter</span><span style="color:#0550ae">::</span><span style="color:#0550ae">Base</span><span style="color:#0550ae">.</span>new<span style="color:#1f2328">(</span><span style="color:#0550ae">Twitter</span><span style="color:#0550ae">::</span><span style="color:#0550ae">HTTPAuth</span><span style="color:#0550ae">.</span>new<span style="color:#1f2328">(</span><span style="color:#0a3069">&#39;username&#39;</span><span style="color:#1f2328">,</span> <span style="color:#0a3069">&#39;password&#39;</span><span style="color:#1f2328">))</span>
</span></span><span style="display:flex;"><span>my_friends  <span style="color:#0550ae">=</span> base<span style="color:#0550ae">.</span>friend_ids
</span></span><span style="display:flex;"><span>candidates  <span style="color:#0550ae">=</span> my_friends<span style="color:#0550ae">.</span>inject<span style="color:#1f2328">(</span><span style="color:#6639ba">Array</span><span style="color:#0550ae">.</span>new<span style="color:#1f2328">)</span> <span style="color:#1f2328">{</span> <span style="color:#0550ae">|</span>array<span style="color:#1f2328">,</span><span style="color:#6639ba">id</span><span style="color:#0550ae">|</span> array <span style="color:#0550ae">+=</span> <span style="color:#0550ae">Twitter</span><span style="color:#0550ae">.</span>friend_ids<span style="color:#1f2328">(</span><span style="color:#6639ba">id</span><span style="color:#1f2328">);</span> array <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>candidates <span style="color:#0550ae">-=</span> my_friends
</span></span><span style="display:flex;"><span>tallied     <span style="color:#0550ae">=</span> candidates<span style="color:#0550ae">.</span>inject<span style="color:#1f2328">(</span><span style="color:#0550ae">Hash</span><span style="color:#0550ae">.</span>new<span style="color:#1f2328">(</span><span style="color:#0550ae">0</span><span style="color:#1f2328">))</span> <span style="color:#1f2328">{</span> <span style="color:#0550ae">|</span><span style="color:#6639ba">hash</span><span style="color:#1f2328">,</span> can<span style="color:#0550ae">|</span> <span style="color:#6639ba">hash</span><span style="color:#0550ae">[</span>can<span style="color:#0550ae">]</span> <span style="color:#0550ae">+=</span> <span style="color:#0550ae">1</span><span style="color:#1f2328">;</span> <span style="color:#6639ba">hash</span> <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>ordered     <span style="color:#0550ae">=</span> tallied<span style="color:#0550ae">.</span>sort <span style="color:#1f2328">{</span> <span style="color:#0550ae">|</span>x<span style="color:#1f2328">,</span>y<span style="color:#0550ae">|</span> y<span style="color:#0550ae">[</span><span style="color:#0550ae">1</span><span style="color:#0550ae">]</span> <span style="color:#0550ae">&lt;=&gt;</span> x<span style="color:#0550ae">[</span><span style="color:#0550ae">1</span><span style="color:#0550ae">]</span> <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ordered<span style="color:#0550ae">[</span><span style="color:#0550ae">0</span><span style="color:#0550ae">..</span><span style="color:#0550ae">9</span><span style="color:#0550ae">].</span>each <span style="color:#cf222e">do</span> <span style="color:#0550ae">|</span>array<span style="color:#0550ae">|</span>
</span></span><span style="display:flex;"><span>  user <span style="color:#0550ae">=</span> base<span style="color:#0550ae">.</span>user<span style="color:#1f2328">(</span>array<span style="color:#0550ae">[</span><span style="color:#0550ae">0</span><span style="color:#0550ae">]</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6639ba">puts</span> <span style="color:#0a3069">&#34;</span><span style="color:#0a3069">#{</span>user<span style="color:#0550ae">.</span>screen_name<span style="color:#0a3069">}</span><span style="color:#0a3069"> is followed by </span><span style="color:#0a3069">#{</span>array<span style="color:#0550ae">[</span><span style="color:#0550ae">1</span><span style="color:#0550ae">]</span><span style="color:#0a3069">}</span><span style="color:#0a3069"> of people you follow.&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><h2 id="some-explanation">Some Explanation</h2>
<p>The only &ldquo;tricky&rdquo; thing I&rsquo;m doing is making good use of Ruby&rsquo;s <a href="http://www.ruby-doc.org/core/classes/Enumerable.html#M003171">Enumerable#inject</a> method. Twice. This method iterates an enumerable object similar to how <code>each</code> does except it takes an argument and passes it through the block with the object it is iterating. The variable passed can be modified and is returned by the method. For a good write-up on <code>inject</code>, <a href="http://buddingrubyist.com/2008/02/05/why-i-like-to-inject/">see this blog post by The Budding Rubyist.</a></p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/05/see-which-twitterers-dont-follow-you-back-in-less-than-15-lines-of-ruby/">
    <h1 class="excerpt-header">See Which Twitterers Don&#39;t Follow You Back In Less Than 15 Lines of Ruby</h1>
    <p class="excerpt-date">May 12, 2009</p>
    <p class="excerpt-text"><p>The asynchronous nature of Twitter is one of its keys to success. No friend requests. <strong>Awesome.</strong></p>
<p>A lot of the people I follow on Twitter have no business following me. I didn&rsquo;t get upset when <a href="http://twitter.com/dhh">DHH</a>, <a href="http://twitter.com/_why">_why</a>, and <a href="http://twitter.com/alexalbrecht">alexalbrecht</a> did not reciprocate interest. Why would they? They don&rsquo;t know me from Adam (even though I&rsquo;m waayyy cooler than that dude&hellip;).</p>
<p>However, sometimes <em>it is</em> interesting to see all the <strike>jerks</strike> people who you follow that do not follow you back. There&rsquo;s probably a web application out there that does this, but who needs a web app when this is a perfectly good excuse to play with Ruby?</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/05/jquery-set-mouse-focus-on-page-load/">
    <h1 class="excerpt-header">jQuery: Set Mouse Focus On Page Load</h1>
    <p class="excerpt-date">May 9, 2009</p>
    <p class="excerpt-text"><h2 id="first-input">First Input:</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#1f2328">$</span><span style="color:#1f2328">(</span><span style="color:#6639ba">document</span><span style="color:#1f2328">).</span><span style="color:#1f2328">ready</span><span style="color:#1f2328">(</span><span style="color:#cf222e">function</span><span style="color:#1f2328">()</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">$</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#39;input:text:first&#39;</span><span style="color:#1f2328">).</span><span style="color:#1f2328">focus</span><span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">});</span>
</span></span></code></pre></div><h2 id="first-empty-input">First Empty Input:</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#1f2328">$</span><span style="color:#1f2328">(</span><span style="color:#6639ba">document</span><span style="color:#1f2328">).</span><span style="color:#1f2328">ready</span><span style="color:#1f2328">(</span><span style="color:#cf222e">function</span><span style="color:#1f2328">()</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">$</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#39;input:text[value=&#34;&#34;]:first&#39;</span><span style="color:#1f2328">).</span><span style="color:#1f2328">focus</span><span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">});</span>
</span></span></code></pre></div></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/02/extending-tmailmail-for-html-and-plaintext-only/">
    <h1 class="excerpt-header">Extending TMail::Mail for HTML and plaintext only</h1>
    <p class="excerpt-date">February 21, 2009</p>
    <p class="excerpt-text"><p>A project I&rsquo;m working on required a little more from Ruby&rsquo;s TMail library than it offers out of the box. One of the things that make Ruby great is how you can dynamically extend classes.</p>
<p>TMail can parse a raw email and provide you with the headers, subject, body, etc. But what it doesn&rsquo;t do is parse the body and pull out the html and/or plaintext from multi-part emails. Well, now it can.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2009/02/a-simple-ruby-method-to-send-email/">
    <h1 class="excerpt-header">A simple Ruby method to send email</h1>
    <p class="excerpt-date">February 17, 2009</p>
    <p class="excerpt-text"><p>I have tried many different Ruby mailers and they all have their problems. The <a href="http://github.com/adamwiggins/pony/tree/master">Pony gem</a> by Adam Wiggins is right up my alley but even that has given me a hard time sending emails. Plus, sometimes you just don&rsquo;t want your little Ruby script having to require rubygems.</p>
<p>I always end up reverting to a simple method I wrote awhile back and it just works. Feel free to use it and adjust to your needs:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2008/08/date-range-goodies-in-rails/">
    <h1 class="excerpt-header">Date Range Goodies in Rails</h1>
    <p class="excerpt-date">August 27, 2008</p>
    <p class="excerpt-text"><p>Sometimes Rails just blows me away, and it just happened a few moments ago. When it comes to dealing with dates and their formats between different databases, Ruby, time zones, etc, etc…it can get pretty nasty. I can’t believe the amount of help Rails delivers in this arena.</p>
<p>Let’s assume I’m trying to track phone calls across time ranges; daily, monthly, yearly. This can usually become troublesome as I’ll have to query the database to find only records inside those ranges. I will spare you all the lame ways I tried to implement this by hand and just show you the code of how to create a named scope and call it using Rails 2.1.0.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2008/08/easy-configuration-with-ruby-and-yaml/">
    <h1 class="excerpt-header">Easy Configuration with Ruby and Yaml</h1>
    <p class="excerpt-date">August 19, 2008</p>
    <p class="excerpt-text"><p>Even trivial apps need to be configured. I used to simply define my app config somewhere near the top of the file, as many others do.</p>
<p>However, this becomes troublesome in a few common scenarios:</p>
<ol>
<li>You want to share your source code with somebody else, but not your super-secret password</li>
<li>Your application becomes more complex and multiple areas need access to configuration variables</li>
</ol>
<p>Abstracting configuration out of your Ruby app and into a separate <a href="http://www.yaml.org/">Yaml</a> file is super-simple. Here’s some codey code to use as an example:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2008/08/ruby-to-the-rescue/">
    <h1 class="excerpt-header">Ruby to the Rescue</h1>
    <p class="excerpt-date">August 18, 2008</p>
    <p class="excerpt-text"><p>Ruby makes handling exceptions super simple. Lets assume you’re about to run a sketchy bit of code, like requesting a remote web site. It might look something like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#6639ba">require</span> <span style="color:#0a3069">&#39;open-uri&#39;</span>
</span></span><span style="display:flex;"><span>url <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#34;http://slashdot.org/&#34;</span>
</span></span><span style="display:flex;"><span>doc <span style="color:#0550ae">=</span> <span style="color:#6639ba">open</span><span style="color:#1f2328">(</span>url<span style="color:#1f2328">)</span>
</span></span></code></pre></div><p>Now, what if <a href="http://slashdot.org/">SlashDot</a> is down for maintenance, overloaded with traffic, or has blocked your IP for scraping their site every 30 seconds? This code nugget will fail and your program will explode like a piñata during Puerto Rico Days. Let’s account for this and terminate our program gracefully:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2008/08/jquery-wizard-redux/">
    <h1 class="excerpt-header">jQuery Wizard Redux</h1>
    <p class="excerpt-date">August 9, 2008</p>
    <p class="excerpt-text"><p>I was interested in creating a step-by-step form wizard for a Rails app I’ve been working on, so naturally I began searching for a jQuery plugin or tutorial. The best thing I could find was a ‘plugin’ written back in June of 2007 on <a href="http://worcesterwideweb.com/2007/06/04/jquery-wizard-plugin/">this blog</a>.</p>
<p>The <a href="http://worcesterwideweb.com/jquery/wizard/">demo</a> was quite attractive so I immediately began trying to work this implementation into my app. Upon reviewing the source code, I became a little less excited because the markup and styling left a lot to be desired. So instead of just complaining about it in the comments of the blog post (as had become my unfortunate custom), I figured I’d just re-write the thang until I was happy with it.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2008/07/pass-optional-arguments-to-ruby-method/">
    <h1 class="excerpt-header">Pass Optional Arguments to Ruby Method</h1>
    <p class="excerpt-date">July 24, 2008</p>
    <p class="excerpt-text"><p>This is the <em>Ruby way</em> of passing optional arguments with default values into a method:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#cf222e">def</span> <span style="color:#6639ba">awesomeness</span> options <span style="color:#0550ae">=</span> <span style="color:#1f2328">{}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">#sensible defaults</span>
</span></span><span style="display:flex;"><span>  opts <span style="color:#0550ae">=</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>   <span style="color:#032f62">:name</span>   <span style="color:#0550ae">=&gt;</span> <span style="color:#0a3069">&#34;Jerod&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>   <span style="color:#032f62">:handle</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#0a3069">&#34;jerodsanto&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>   <span style="color:#032f62">:blog</span>   <span style="color:#0550ae">=&gt;</span> <span style="color:#0a3069">&#34;Standard Deviations&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">}</span><span style="color:#0550ae">.</span>merge options
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  opts<span style="color:#0550ae">.</span>each <span style="color:#1f2328">{</span> <span style="color:#0550ae">|</span>key<span style="color:#1f2328">,</span>value<span style="color:#0550ae">|</span> <span style="color:#6639ba">puts</span> <span style="color:#0a3069">&#34;</span><span style="color:#0a3069">#{</span>key<span style="color:#0a3069">}</span><span style="color:#0a3069"> = </span><span style="color:#0a3069">#{</span>value<span style="color:#0a3069">}</span><span style="color:#0a3069">&#34;</span> <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>When called sans arguments this function will print the following:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>awesomeness
</span></span><span style="display:flex;"><span>handle <span style="color:#0550ae">=</span> jerodsanto
</span></span><span style="display:flex;"><span><span style="color:#6639ba">name</span> <span style="color:#0550ae">=</span> <span style="color:#0550ae">Jerod</span>
</span></span><span style="display:flex;"><span>blog <span style="color:#0550ae">=</span> <span style="color:#0550ae">Standard</span> <span style="color:#0550ae">Deviations</span>
</span></span></code></pre></div><p>When called with arguments this function will merge them into the opts variable and print the following:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>awesomeness <span style="color:#032f62">:name</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#0a3069">&#34;Santo&#34;</span>
</span></span><span style="display:flex;"><span>handle <span style="color:#0550ae">=</span> jerodsanto
</span></span><span style="display:flex;"><span><span style="color:#6639ba">name</span> <span style="color:#0550ae">=</span> <span style="color:#0550ae">Santo</span>
</span></span><span style="display:flex;"><span>blog <span style="color:#0550ae">=</span> <span style="color:#0550ae">Standard</span> <span style="color:#0550ae">Deviations</span>
</span></span></code></pre></div><p>The defaults are used unless you specify an override in the method call, in which case the override is merged into the opts hash.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2008/07/rails--screen-awesome/">
    <h1 class="excerpt-header">Rails &#43; Screen = Awesome</h1>
    <p class="excerpt-date">July 24, 2008</p>
    <p class="excerpt-text"><p>Unix’s <code>screen</code> utility is like pow-pow-power wheels for remote shells. I created a short screencast awhile back showing how to use screen to ease your Rails development.</p>
<p>The server that was hosted on is gonzo so I am reposting it here for your enjoyment:</p>
<p><a href="http://jerodsanto.net/embed/screen.swf">Link to Embedded Screencast</a></p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2008/07/traversing-directories-with-ruby/">
    <h1 class="excerpt-header">Traversing Directories with Ruby</h1>
    <p class="excerpt-date">July 15, 2008</p>
    <p class="excerpt-text"><p>If you want to shove filenames of all files in a directory into an array, do:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#57606a"># (absolute path)</span>
</span></span><span style="display:flex;"><span>files <span style="color:#0550ae">=</span> <span style="color:#0550ae">Dir</span><span style="color:#0550ae">[</span><span style="color:#0a3069">&#34;/Users/jerod/src/**&#34;</span><span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a"># (relative path)</span>
</span></span><span style="display:flex;"><span>files <span style="color:#0550ae">=</span> <span style="color:#0550ae">Dir</span><span style="color:#0550ae">[</span><span style="color:#0550ae">File</span><span style="color:#0550ae">.</span>expand_path<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;~/src&#34;</span><span style="color:#1f2328">)</span> <span style="color:#0550ae">+</span> <span style="color:#0a3069">&#34;/**&#34;</span><span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a"># (in ENV[&#34;PWD&#34;], aka current directory)</span>
</span></span><span style="display:flex;"><span>files <span style="color:#0550ae">=</span> <span style="color:#0550ae">Dir</span><span style="color:#0550ae">[</span><span style="color:#0a3069">&#34;**&#34;</span><span style="color:#0550ae">]</span>
</span></span></code></pre></div><p>If you want to shove filenames of all files in a directory <strong>recursively</strong> into an array, do:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#57606a"># (absolute path)</span>
</span></span><span style="display:flex;"><span>files <span style="color:#0550ae">=</span> <span style="color:#0550ae">Dir</span><span style="color:#0550ae">[</span><span style="color:#0a3069">&#34;/Users/jerod/src/**/**&#34;</span><span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a"># (relative path)</span>
</span></span><span style="display:flex;"><span>files <span style="color:#0550ae">=</span> <span style="color:#0550ae">Dir</span><span style="color:#0550ae">[</span><span style="color:#0550ae">File</span><span style="color:#0550ae">.</span>expand_path<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;~/src&#34;</span><span style="color:#1f2328">)</span> <span style="color:#0550ae">+</span> <span style="color:#0a3069">&#34;/**/**&#34;</span><span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a"># (in ENV[&#34;PWD&#34;], aka current directory)</span>
</span></span><span style="display:flex;"><span>files <span style="color:#0550ae">=</span> <span style="color:#0550ae">Dir</span><span style="color:#0550ae">[</span><span style="color:#0a3069">&#34;**/**&#34;</span><span style="color:#0550ae">]</span>
</span></span></code></pre></div><p>It doesn’t get much easier than that.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2008/07/capify-public-key-deployment/">
    <h1 class="excerpt-header">Capify - public key deployment</h1>
    <p class="excerpt-date">July 11, 2008</p>
    <p class="excerpt-text"><p>I’ve been playing with <a href="http://capify.org/">Capistrano</a> a lot lately and loving it. Here is an example of how easy it is to write tasks and use them on multiple remote servers.</p>
<p>This task installs your SSH public key on the remote machine to allow key-based authentication:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>set <span style="color:#032f62">:key_file</span> <span style="color:#cf222e">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#0550ae">Capistrano</span><span style="color:#0550ae">::</span><span style="color:#0550ae">CLI</span><span style="color:#0550ae">.</span>ui<span style="color:#0550ae">.</span>ask <span style="color:#0a3069">&#34;enter public key to push: &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>desc <span style="color:#0a3069">&#34;configures key-based SSH administration&#34;</span>
</span></span><span style="display:flex;"><span>task <span style="color:#032f62">:push_key</span><span style="color:#1f2328">,</span> <span style="color:#032f62">:roles</span>  <span style="color:#0550ae">=&gt;</span> <span style="color:#032f62">:all</span> <span style="color:#cf222e">do</span>
</span></span><span style="display:flex;"><span>  key_location <span style="color:#0550ae">=</span> <span style="color:#0550ae">File</span><span style="color:#0550ae">.</span>expand_path<span style="color:#1f2328">(</span>key_file<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">unless</span> <span style="color:#0550ae">File</span><span style="color:#0550ae">.</span>exist?<span style="color:#1f2328">(</span>key_location<span style="color:#1f2328">)</span> <span style="color:#0550ae">and</span> key_file<span style="color:#0550ae">.</span>match<span style="color:#1f2328">(</span><span style="color:#0a3069">/\.pub$/</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6639ba">puts</span> <span style="color:#0a3069">&#34;Couldn&#39;t locate public key. Try again&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6639ba">exit</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span>  key_file_name <span style="color:#0550ae">=</span> <span style="color:#0550ae">File</span><span style="color:#0550ae">.</span>basename<span style="color:#1f2328">(</span>key_location<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>  upload key_location<span style="color:#1f2328">,</span> <span style="color:#0a3069">&#34;/tmp/</span><span style="color:#0a3069">#{</span>key_file_name<span style="color:#0a3069">}</span><span style="color:#0a3069">&#34;</span>
</span></span><span style="display:flex;"><span>  run <span style="color:#0a3069">&#34;if [ ! -e ~/.ssh ];then mkdir ~/.ssh; fi&#34;</span>
</span></span><span style="display:flex;"><span>  run <span style="color:#0a3069">&#34;cat /tmp/</span><span style="color:#0a3069">#{</span>key_file_name<span style="color:#0a3069">}</span><span style="color:#0a3069"> &gt;&gt; ~/.ssh/authorized_keys&#34;</span>
</span></span><span style="display:flex;"><span>  run <span style="color:#0a3069">&#34;rm /tmp/</span><span style="color:#0a3069">#{</span>key_file_name<span style="color:#0a3069">}</span><span style="color:#0a3069">&#34;</span>
</span></span><span style="display:flex;"><span>  run <span style="color:#0a3069">&#34;chmod 600 ~/.ssh/authorized_keys&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span></code></pre></div><p>Silky smooth.</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2008/06/rails-nested-layouts/">
    <h1 class="excerpt-header">Rails: Nested Layouts</h1>
    <p class="excerpt-date">June 20, 2008</p>
    <p class="excerpt-text"><p>Sometimes one layout (application.html.erb) just doesn’t cut it, but you don’t want a separate layout for each controller in your app. You can use the following technique to nest your Rails app’s layouts:</p>
<p>In this example, there are two controllers for a simple todo list manager; <code>lists</code> and <code>tasks</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#57606a">#  application.html.erb</span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">&lt;</span>html<span style="color:#0550ae">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#0550ae">&lt;</span>head<span style="color:#0550ae">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0550ae">&lt;</span>title<span style="color:#0550ae">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#0550ae">TODO</span> <span style="color:#0550ae">&gt;&gt;</span> <span style="color:#0550ae">&lt;</span><span style="color:#0a3069">%= yield(:title) || &#34;Get things done!&#34; %&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">    &lt;/title&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">    &lt;%=</span> stylesheet_link_tag <span style="color:#0a3069">&#39;todo&#39;</span> <span style="color:#0a3069">%&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">  &lt;/head&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#0550ae">&lt;</span>body<span style="color:#0550ae">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0550ae">&lt;</span>div <span style="color:#6639ba">id</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;container&#34;</span><span style="color:#0550ae">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#0550ae">&lt;</span><span style="color:#6639ba">p</span> style<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;color: green&#34;</span><span style="color:#0550ae">&gt;&lt;</span><span style="color:#0a3069">%= flash[:notice] %&gt;&lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">      &lt;%=</span> <span style="color:#cf222e">yield</span> <span style="color:#032f62">:main</span> <span style="color:#0a3069">%&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">    &lt;/div&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#0550ae">&lt;</span><span style="color:#0a3069">/body&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">&lt;/</span>html<span style="color:#0550ae">&gt;</span>
</span></span></code></pre></div><p>The key here is the <code>yield :main</code> which means we can use <code>content_for</code> to put our nested layouts’ output inside the yield. Here is the <code>lists</code> layout:</p></p>
  </a>
</article>
  
    <article class="excerpt">
  <a href="http://localhost:1313/2008/05/git-clone-pull-without-changing-directories/">
    <h1 class="excerpt-header">git clone &amp; pull without changing directories</h1>
    <p class="excerpt-date">May 19, 2008</p>
    <p class="excerpt-text"><p>If you’re trying to configure git commands in a directory that isn’t <code>pwd</code>, you’ll have to deal with <code>clone</code> and <code>pull</code> a little differently. Clone works like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone <span style="color:#0550ae">[</span><span style="color:#6639ba">source</span> location<span style="color:#0550ae">]</span> <span style="color:#0550ae">[</span>destination location<span style="color:#0550ae">]</span>
</span></span></code></pre></div><p>An example clone into my application&rsquo;s vendor directory:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>clone git://github.com/rails/rails.git ~/rails/myapp/vendor/rails
</span></span></code></pre></div><p>Pull works like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git-dir<span style="color:#0550ae">=</span>/path/to/destination/.git pull
</span></span></code></pre></div><p>An example pull in the already initiated local rails repository:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git-dir<span style="color:#0550ae">=</span>~/rails/myapp/vendor/rails/.git pull
</span></span></code></pre></div><p>Using these approaches, you can simplify your <a href="http://capify.org/">capistrano</a> recipes. here is an example snippet:</p></p>
  </a>
</article>
  
</section>


    <footer class="main-footer">
  <p>
    Copyright &copy; 2008&mdash;2025 Jerod Santo
  </p>
</footer>

    
    <script src="/js/compiled.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-3287978-16', 'auto');
      ga('send', 'pageview');
    </script>
    
  </body>
</html>