<!DOCTYPE html>



 <html class="no-js"> 
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="author" content="Jerod Santo">
    <meta property="og:site_name" content="Jerod Santo">
    
    <meta name="description" content="Have you ever needed to see how many times each element occurs in an array? Perhaps sort the elements by occurrence? Using an awesome feature of Hash.new makes this task quick and easy.
Hash.new takes an argument that will be returned when a key that doesn&rsquo;t correspond to a hash entry is accessed. Basically, a default value for all hash keys.
With that knowledge in hand, we can take our array of elements and easily get occurrence counts for each unique element. We just need to initialize each key to 0 and then increment the count each time the element appears.">
    <meta property="st:title" content="Ruby Quick Tip: Easily Count Occurrences of Array Elements">
    <meta property="og:title" content="Ruby Quick Tip: Easily Count Occurrences of Array Elements">
    <meta property="og:description" content="Have you ever needed to see how many times each element occurs in an array? Perhaps sort the elements by occurrence? Using an awesome feature of Hash.new makes this task quick and easy.
Hash.new takes an argument that will be returned when a key that doesn&rsquo;t correspond to a hash entry is accessed. Basically, a default value for all hash keys.
With that knowledge in hand, we can take our array of elements and easily get occurrence counts for each unique element. We just need to initialize each key to 0 and then increment the count each time the element appears.">
    <meta property="og:type" content="article">
    
    <meta property="og:image" content="/icon.png">
    
    
    <title>
      Ruby Quick Tip: Easily Count Occurrences of Array Elements | Jerod Santo
    </title>

    <link rel="icon" href="/icon.png" sizes="256x256" type="image/png">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" media="all" href="/styles.css">
    <script>
       
      window.grunticon=function(e){if(e&&3===e.length){var t=window,n=!(!t.document.createElementNS||!t.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||window.opera&&-1===navigator.userAgent.indexOf("Chrome")),o=function(o){var r=t.document.createElement("link"),a=t.document.getElementsByTagName("script")[0];r.rel="stylesheet",r.href=e[o&&n?0:o?1:2],a.parentNode.insertBefore(r,a)},r=new t.Image;r.onerror=function(){o(!1)},r.onload=function(){o(1===r.width&&1===r.height)},r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}};
      grunticon(["/icons/icons.data.svg.css", "/icons/icons.data.png.css", "/icons/icons.fallback.css"]);
    </script>

    <link href='//fonts.googleapis.com/css?family=Roboto+Condensed:400italic,400' rel='stylesheet' type='text/css'>
    <script src="//use.typekit.net/ozg5mvx.js"></script>
    <script>try{Typekit.load();}catch(e){}</script>
    <script src="/js/modernizr-custom.js"></script>

    

    <link rel="alternate" type="application/atom+xml" href="/index.xml" />
  </head>
  <body class="">
    
    <div class="main-header">
      <h1>
        <a href="/" title="Home">
          <span class="big-dot">&middot;</span> Jerod Santo <span class="big-dot">&middot;</span>
        </a>
      </h1>
      <a href="javascript:void(0);" title="Moar" class="main-header-more">+</a>
      <a href="/archives/" title="View Blog Archives" class="main-header-archive">Archives</a>
      <a href="mailto:jerod.santo@gmail.com" title="Contact Jerod" class="main-header-contact">Contact</a>
      <a href="/search/" title="Search the site" class="main-header-search">Search</a>
    </div>
    

    
<article class="post">
  <header class="post-header">
    <h1>Ruby Quick Tip: Easily Count Occurrences of Array Elements</h1>
    
    <p class="post-date">
      October 24, 2013
    </p>
  </header>

  

  <div class="post-content">
    <p>Have you ever needed to see how many times each element occurs in an array? Perhaps sort the elements by occurrence? Using an awesome feature of <code>Hash.new</code> makes this task quick and easy.</p>
<p><code>Hash.new</code> takes an argument that will be returned when a key that doesn&rsquo;t correspond to a hash entry is accessed. Basically, a default value for all hash keys.</p>
<p>With that knowledge in hand, we can take our array of elements and easily get occurrence counts for each unique element. We just need to initialize each key to 0 and then increment the count each time the element appears.</p>
<p>Let&rsquo;s trump up an array of words, shall we?</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>words <span style="color:#0550ae">=</span> <span style="color:#0a3069">%w(how much wood would a wood chuck chuck)</span>
</span></span></code></pre></div><p>Good enough. Now, we want to know how many times each word occurs:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>counts <span style="color:#0550ae">=</span> <span style="color:#0550ae">Hash</span><span style="color:#0550ae">.</span>new <span style="color:#0550ae">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>words<span style="color:#0550ae">.</span>each <span style="color:#cf222e">do</span> <span style="color:#0550ae">|</span>word<span style="color:#0550ae">|</span>
</span></span><span style="display:flex;"><span>  counts<span style="color:#0550ae">[</span>word<span style="color:#0550ae">]</span> <span style="color:#0550ae">+=</span> <span style="color:#0550ae">1</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a"># {&#34;how&#34;=&gt;1, &#34;much&#34;=&gt;1, &#34;wood&#34;=&gt;2, &#34;could&#34;=&gt;1, &#34;a&#34;=&gt;1, &#34;chuck&#34;=&gt;2}</span>
</span></span></code></pre></div><p>Isn&rsquo;t that easy? Here&rsquo;s a bonus tip. If we use <code>each_with_object</code> we can turn that baby into a one-liner:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>words<span style="color:#0550ae">.</span>each_with_object<span style="color:#1f2328">(</span><span style="color:#0550ae">Hash</span><span style="color:#0550ae">.</span>new<span style="color:#1f2328">(</span><span style="color:#0550ae">0</span><span style="color:#1f2328">))</span> <span style="color:#1f2328">{</span> <span style="color:#0550ae">|</span>word<span style="color:#1f2328">,</span>counts<span style="color:#0550ae">|</span> counts<span style="color:#0550ae">[</span>word<span style="color:#0550ae">]</span> <span style="color:#0550ae">+=</span> <span style="color:#0550ae">1</span> <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a"># {&#34;how&#34;=&gt;1, &#34;much&#34;=&gt;1, &#34;wood&#34;=&gt;2, &#34;could&#34;=&gt;1, &#34;a&#34;=&gt;1, &#34;chuck&#34;=&gt;2}</span>
</span></span></code></pre></div><p>From this point sorting or filtering our elements by occurrence count should be a breeze. Enjoy!</p>

  </div>

  <ul class="post-share-buttons">
    <li class="service_twitter post-share-1">
      <a class="icon-twitter" href="https://twitter.com/intent/tweet?url=http%3a%2f%2flocalhost%3a1313%2f2013%2f10%2fruby-quick-tip-easily-count-occurrences-of-array-elements%2f&via=jerodsanto&text=Ruby%20Quick%20Tip%3a%20Easily%20Count%20Occurrences%20of%20Array%20Elements" title="Tweet">
        <span>Tweet</span>
      </a>
    </li>
    <li class="service_rss post-share-2">
      <a class="icon-rss" href="/index.xml" title="Subscribe to the feed!">
        <span>RSS</span>
      </a>
    </li>
    <li class="service_hackernews post-share-3">
      <a class="icon-hackernews" href="http://news.ycombinator.com/submitlink?u=http%3a%2f%2flocalhost%3a1313%2f2013%2f10%2fruby-quick-tip-easily-count-occurrences-of-array-elements%2f&t=Ruby%20Quick%20Tip%3a%20Easily%20Count%20Occurrences%20of%20Array%20Elements" title="Post to Hacker News">
        <span>Hacker News</span>
      </a>
    </li>
    <li class="service_instapaper post-share-4">
      <a class="icon-instapaper" href="http://www.instapaper.com/hello2?url=http%3a%2f%2flocalhost%3a1313%2f2013%2f10%2fruby-quick-tip-easily-count-occurrences-of-array-elements%2f&title=Ruby%20Quick%20Tip%3a%20Easily%20Count%20Occurrences%20of%20Array%20Elements" title="Read later">
        <span>Instapaper</span>
      </a>
    </li>
  </ul>

  
  

  <div id="disqus_thread"></div>
  <script>
    var disqus_url   = "http:\/\/localhost:1313\/2013\/10\/ruby-quick-tip-easily-count-occurrences-of-array-elements\/";
    var disqus_title = "Ruby Quick Tip: Easily Count Occurrences of Array Elements";
    (function() {
     var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
     dsq.src = 'https://blogt0sk1.disqus.com/embed.js';
     (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>

  <script src="//platform.twitter.com/widgets.js"></script>
</article>


    <footer class="main-footer">
  <p>
    Copyright &copy; 2008&mdash;2025 Jerod Santo
  </p>
</footer>

    
    <script src="/js/compiled.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-3287978-16', 'auto');
      ga('send', 'pageview');
    </script>
    
  </body>
</html>